{"version":3,"sources":["redux/reducers/reducerUtils.js","redux/reducers/general.reducer.js","redux/reducers/user.reducer.js","redux/reducers/campaign.reducer.js","redux/reducers/company.reducer.js","redux/reducers/gift.reducer.js","redux/reducers/apply.reducer.js","redux/reducers/recruiter.reducer.js","redux/reducers/socket.reducer.js","redux/reducers/index.js","constants.js","redux/actions.js","services/firebase.service.js","redux/middleware/gift.crud.js","redux/store.js","redux/middleware/user.crud.js","redux/middleware/campaign.crud.js","redux/middleware/card.crud.js","redux/middleware/company.crud.js","redux/middleware/general.crud.js","redux/middleware/donation.crud.js","redux/middleware/recruiter.crud.js","redux/middleware/apply.crud.js","services/service.js","components/campaigns/AllCampaigns.js","components/campaigns/BaseCampaigns.js","components/campaigns/LiveCampaigns.js","components/home/BaseHome.js","components/general/NotFound.js","components/login/Login.js","components/campaigns/Donate.js","components/campaigns/Card.js","components/campaigns/Donations.js","components/campaigns/Recruiters.js","components/campaigns/Campaign.js","components/campaigns/GiftDetails.js","components/general/CreateApply.js","components/home/About.js","components/campaigns/UserProfile.js","components/home/Personal.js","components/management/CampaignDetails.js","components/management/Applies.js","components/management/CreateCampaign.js","components/management/UpdateCampaign.js","components/management/DeleteCampaigns.js","components/management/CampaignsManagment.js","components/management/CreateCard.js","components/management/UpdateCard.js","components/management/DeleteCards.js","components/management/CardsManagment.js","components/management/CreateGift.js","components/management/UpdateGift.js","components/management/DeleteGifts.js","components/management/GiftsManagment.js","components/management/CreateRecruiter.js","components/management/UpdateRecruiter.js","components/management/DeleteRecruiters.js","components/management/RecruitersManagment.js","components/management/BaseManagement.js","components/general/RecruiterArea.js","components/general/Routes.js","components/general/Nav.js","components/general/Notification.js","components/general/Base.js","App.js","reportWebVitals.js","index.js"],"names":["createReducer","state","action","handlers","handler","type","toLowerCase","replace","v","toUpperCase","generalReducer","setCampaignId","campaignId","payload","setCompanyId","companyId","setGiftId","giftId","setCurrentNotification","currentNotification","zeroCurrentNotification","produce","userReducer","setUser","user","cookie","document","split","length","date","Date","getTime","uid","toGMTString","email","admin","setFirebaseUser","firebaseUser","signOut","campaignReducer","setAllCampaigns","allCampaigns","setCampaign","campaign","find","_id","setCampaignFromServer","companyReducer","setAllCompanies","allCompanies","setCompany","company","giftReducer","setAllGifts","allGifts","setCurrentGift","currentGift","setGift","gift","applyReducer","setApplies","applies","recruiterReducer","setRecruiterLink","recruiterLink","setRecruiterDonations","recruiterDonations","setCurrentRecruiter","currentRecruiter","initialState","socket","io","connect","transports","socketReducer","setSocket","combineReducers","SERVER_URL","actions","Proxy","get","target","prop","undefined","args","actionName","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","next","axios","then","result","console","log","dispatch","data","catch","error","put","post","images","getState","create","ansGift","card","logo","emit","room","donation","recruiterId","link","recruiter","updateRecruiterDetails","id","delete","userId","campaigns","image","storage","refFromURL","numberWithCommas","goal","toString","withRouter","props","history","useDispatch","useSelector","useState","showSpin","setShowSpin","useEffect","getAllCampaigns","setTimeout","currentHeight","setCurrentHeight","className","map","i","onClick","getCompanyById","push","selectCampaign","onHeightReady","height","a","key","value","func","campaignName","style","display","width","src","alt","purposeOfCollecting","percent","Math","round","goalRaised","duration","now","padding","backgroundColor","zIndex","Number","marginTop","size","BaseCampaigns","liveCampaigns","setLiveCampaigns","currentDate","moment","format","filter","c","backgroundImage","maxWidth","minWidth","objectFit","BaseHome","NotFound","Login","isSignUp","setIsSignUp","isForgetPassword","setIsForgetPassword","textAlign","onFinish","values","auth","sendPasswordResetEmail","res","code","password","createUserWithEmailAndPassword","createUser","signUp","signInWithEmailAndPassword","getUserByUid","signIn","Item","name","rules","required","message","prefix","MailOutlined","placeholder","LockOutlined","htmlType","provider","GoogleAuthProvider","signInWithPopup","additionalUserInfo","isNewUser","Donate","iframeUrl","setIframeUrl","description","text","fullName","paymentsNum","phone","sum","url","createDonation","initialValues","min","max","margin","allowClear","showSearch","dropdownStyle","notFoundContent","virtual","dropdownClassName","recruiters","item","Option","designName","Card","openModal","setOpenModal","numOfUsed","amount","to","getGiftById","footer","title","visible","onCancel","close","Donations","sortedArray","setSortedArray","donations","slice","sort","b","reverse","background","gutter","span","bordered","Recruiters","cursor","window","open","sumRaised","TabPane","Tabs","Campaign","copy","setCopy","index","setIndex","showCurrentImg","n","x","getElementsByClassName","slideIndex","getCampaignById","location","pathname","on","event","msg","notification","advertising","href","callback","delay","savedCallback","useRef","current","tick","setInterval","clearInterval","useInterval","SpinnerCircularFixed","thickness","speed","color","secondaryColor","e","imgIndex","role","navigator","clipboard","writeText","CopyOutlined","CopyFilled","cards","defaultActiveKey","tab","GiftDetails","price","CreateApply","Form","useForm","form","wrapperCol","createApply","TextArea","About","xmlns","viewBox","d","fill","UserProfile","updateUser","disabled","Personal","CampaignDetails","companyName","Empty","PRESENTED_IMAGE_SIMPLE","Applies","getApplies","columns","dataIndex","render","apply","status","confirmApply","align","ellipsis","spinning","dataSource","rowKey","pagination","position","direction","general","setLogo","createCompany","setCreateCompany","spining","setSpining","uploadErr","setUploadErr","logoURL","setLogoURL","imagesFiles","setImagesFiles","imagesURLs","setImagesURLs","inputLogoRef","getAllGifts","getAllCompanies","uploadImageToStorage","uploadLogoToStorage","removeAll","imagePaths","storageRef","ref","img","fileRef","child","getDownloadURL","singleImgPath","updateCampaign","Object","entries","logoImgPath","updateCompany","resetFields","createCampaign","onChange","selectCls","classList","add","MinusOutlined","PlusOutlined","marginLeft","DeleteTwoTone","twoToneColor","accept","files","URL","createObjectURL","UploadOutlined","rows","RangePicker","showNow","multiple","imgs","uploadImage","file","removeImage","closable","centered","UpdateCampaign","deleteFilesFromFirebase","toDeleteArray","toUploadArray","includes","campaignObj","setFieldsValue","onClear","DeleteCampaigns","setCampaigns","confirm","deleteCampaign","onConfirm","okText","cancelText","icon","CampaignsManagment","setAction","CreateCard","labelCol","createCard","UpdateCard","setCards","updateCard","cardsObj","cardId","cardObj","used","DeleteCards","getFieldValue","deleteCard","CardsManagment","CreateGift","setImage","imageURL","setImageURL","coupon","setCoupon","inputImageRef","imageImgPath","updateGift","createGift","checked","UpdateGift","imageFile","setImageFile","gifts","setGifts","g","DeleteGifts","alert","deleteGift","GiftsManagment","CreateRecruiter","userCampaigns","createRecruiter","options","label","UpdateRecruiter","updateRecruiter","recruiterObj","DeleteRecruiters","setRecruiters","r","deleteRecruiter","RecruitersManagment","BaseManagement","tabPosition","RecruiterArea","useParams","getRecruiterById","getDonationsByRecruiterId","Routes","exact","path","component","allowed","Nav","setCurrent","showPopover","setShowPopover","handleVisibleChange","content","trigger","placement","onVisibleChange","photoURL","UserOutlined","Notification","baseNotification","Base","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.b03dc7a5.chunk.js","sourcesContent":["function convertActionTypeToName(actionType) {\r\n    return actionType.toLowerCase().replace(/_(\\w)/g, v => v[1].toUpperCase());\r\n  }\r\n  \r\nexport default function createReducer(state, action, handlers) {\r\n    const key = convertActionTypeToName(action.type);\r\n    const handler = handlers[key];\r\n    if (handler) {\r\n        handler(state, action);\r\n    }\r\n}","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    campaignId: null,\r\n    companyId: null,\r\n    giftId: null,\r\n    currentNotification: null,\r\n}\r\n\r\nconst generalReducer = {\r\n    setCampaignId(state, action) {\r\n        state.campaignId = action.payload;\r\n    },\r\n    setCompanyId(state, action) {\r\n        state.companyId = action.payload;\r\n    },\r\n    setGiftId(state, action) {\r\n        state.giftId = action.payload;\r\n    },\r\n    setCurrentNotification(state, action) {\r\n        state.currentNotification = action.payload;\r\n    },\r\n    zeroCurrentNotification(state, action) {\r\n        state.currentNotification = null;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, generalReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    user: null,\r\n    firebaseUser: null,\r\n    admin: false,\r\n}\r\n\r\nconst userReducer = {\r\n    setUser(state, action) {\r\n        state.user = action.payload;\r\n        const cookie = document.cookie.split('giftMatchUserUid=');\r\n        if (!(cookie.length === 2 && cookie[1])) {\r\n            let date = new Date();\r\n            date = new Date(date.getTime() + 1000 * 60 * 60 * 24 * 365);\r\n            document.cookie = 'giftMatchUserUid='+state.user.uid+'; expires=' + date.toGMTString() + ';';\r\n        }\r\n        if (action.payload.email === 'giftmatching@gmail.com') {\r\n            state.admin = true;\r\n        } else {\r\n            state.admin = false;\r\n        }\r\n    },\r\n    setFirebaseUser(state, action) {\r\n        state.firebaseUser = action.payload;\r\n    },\r\n    signOut(state, action) {\r\n        document.cookie = `giftMatchUserUid=`;\r\n        state.user = state.firebaseUser = null;\r\n        state.admin=false;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, userReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    allCampaigns: null,\r\n    campaign: null,   \r\n}\r\n\r\nconst campaignReducer = {\r\n    setAllCampaigns(state, action) {\r\n        state.allCampaigns = action.payload;\r\n    },\r\n    setCampaign(state, action) {\r\n        state.campaign = state.allCampaigns.find(campaign => campaign._id === action.payload);\r\n    },\r\n    setCampaignFromServer(state, action) {\r\n        state.campaign = action.payload;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, campaignReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    allCompanies: null,\r\n    company: null,\r\n}\r\n\r\nconst companyReducer = {\r\n    setAllCompanies(state, action) {\r\n        state.allCompanies = action.payload;\r\n    },\r\n    setCompany(state, action) {\r\n        state.company = action.payload;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, companyReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    allGifts: null,\r\n    currentGift: null,\r\n    gift:null,\r\n}\r\n\r\nconst giftReducer = {\r\n    setAllGifts(state, action) {\r\n        state.allGifts = action.payload;\r\n    },\r\n    setCurrentGift(state, action) {\r\n        state.currentGift = action.payload;\r\n    },\r\n    setGift(state, action) {\r\n        state.gift = action.payload;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, giftReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    applies: null,\r\n}\r\n\r\nconst applyReducer = {\r\n    setApplies(state, action) {\r\n        state.applies = action.payload;\r\n    },\r\n  \r\n}\r\nexport default produce((state, action) => createReducer(state, action, applyReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n    recruiterLink: '',\r\n    recruiterDonations: [],\r\n    currentRecruiter: null,\r\n}\r\n\r\nconst recruiterReducer = {\r\n    setRecruiterLink(state, action) {\r\n        state.recruiterLink = action.payload;\r\n    },\r\n    setRecruiterDonations(state, action) {\r\n        state.recruiterDonations = action.payload;\r\n    },\r\n    setCurrentRecruiter(state, action) {\r\n        state.currentRecruiter = action.payload;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, recruiterReducer), initialState);","import produce from 'immer'\r\nimport createReducer from \"./reducerUtils\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst initialState = {\r\n    // socket: io.connect('http://localhost:4000/', {\r\n    //     transports: ['websocket']\r\n    // }),\r\n    socket: io.connect('https://matching-try.herokuapp.com/', {\r\n        transports: ['polling']\r\n    }),\r\n}\r\n\r\nconst socketReducer = {\r\n    setSocket(state, action) {\r\n        state.socket = action.payload;\r\n    },\r\n}\r\nexport default produce((state, action) => createReducer(state, action, socketReducer), initialState);","import { combineReducers } from 'redux';\r\n\r\nimport generalReducer from './general.reducer';\r\nimport userReducer from './user.reducer';\r\nimport campaignReducer from './campaign.reducer';\r\nimport companyReducer from './company.reducer';\r\nimport giftReducer from './gift.reducer';\r\nimport applyReducer from './apply.reducer';\r\nimport recruiterReducer from './recruiter.reducer';\r\nimport socketReducer from './socket.reducer';\r\n\r\nexport default combineReducers({\r\n    generalReducer,\r\n    userReducer,\r\n    campaignReducer,\r\n    companyReducer,\r\n    giftReducer,\r\n    applyReducer,\r\n    recruiterReducer,\r\n    socketReducer,\r\n});","// const SERVER_URL = 'http://localhost:4000';\r\nconst SERVER_URL = 'https://matching-try.herokuapp.com';\r\n\r\nexport {\r\n    SERVER_URL,\r\n}","function convertActionNameToType(actionName) {\r\n    return actionName.replace(/([A-Z])/g, \"_$1\").toUpperCase();\r\n}\r\n\r\nexport const actions = new Proxy(\r\n    {},\r\n    {\r\n        get: function (target, prop) {\r\n            if (target[prop] === undefined)\r\n                return function (args) {\r\n                    return {\r\n                        type: convertActionNameToType(prop),\r\n                        payload: args\r\n                    };\r\n                };\r\n\r\n            else return target[prop];\r\n        }\r\n    }\r\n);","// import { initializeApp } from \"firebase/app\";\r\nimport firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCX_pgezzbcS2WT3X5grrtdkJtK21Kcf4U\",\r\n  authDomain: \"matching-599f8.firebaseapp.com\",\r\n  projectId: \"matching-599f8\",\r\n  storageBucket: \"matching-599f8.appspot.com\",\r\n  messagingSenderId: \"1079037368871\",\r\n  appId: \"1:1079037368871:web:4abec9c7806c3dd2f80c02\",\r\n  measurementId: \"G-KJX582KP90\"\r\n};\r\n\r\n// const app = \r\nfirebase.initializeApp(firebaseConfig);\r\n// const app = initializeApp(firebaseConfig);\r\n\r\nexport { firebase };","import axios from 'axios';\r\n\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport { actions } from '../actions';\r\nimport { firebase } from '../../services/firebase.service';\r\n\r\n\r\nexport const createGift = store => next => action => {\r\n    if (action.type === 'CREATE_GIFT') {\r\n        axios.post(`${SERVER_URL}/api/gift/createGift`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 10 ~ result\", result);\r\n                store.dispatch(actions.setGift(result.data.ansGift));\r\n                store.dispatch(actions.setGiftId(result.data.ansGift._id));\r\n                store.dispatch(actions.setAllGifts(result.data.allGifts))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 13 ~ error\", error);\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת המתנה!'))\r\n\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const updateGift = store => next => action => {\r\n    if (action.type === 'UPDATE_GIFT') {\r\n        axios.put(`${SERVER_URL}/api/gift/updateGift`, action.payload)\r\n            .then(result => {\r\n                if (action.payload.create) {\r\n                    store.dispatch(actions.setCurrentNotification('המתנה התווספה בהצלחה!'));\r\n                }\r\n                else {\r\n                    store.dispatch(actions.setCurrentNotification('המתנה התעדכנה בהצלחה!'));\r\n                }\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 24 ~ result\", result)\r\n                store.dispatch(actions.setAllGifts(result.data.allGifts))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 27 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה בעדכון המתנה!'))\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const getGiftById = store => next => action => {\r\n    if (action.type === 'GET_GIFT_BY_ID') {\r\n        axios.get(`${SERVER_URL}/api/gift/getGiftById/${action.payload._id}`)\r\n            .then((result) => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 23 ~ .then ~ result\", result)\r\n                store.dispatch(actions.setCurrentGift(result.data));\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 27 ~ error\", error)\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const getAllGifts = store => next => action => {\r\n    if (action.type === 'GET_ALL_GIFTS') {\r\n        axios.get(`${SERVER_URL}/api/gift/getAllGifts`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 22 ~ result\", result)\r\n                store.dispatch(actions.setAllGifts(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 26 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const deleteGift = store => next => action => {\r\n    if (action.type === 'DELETE_GIFT') {\r\n        debugger\r\n        axios.delete(`${SERVER_URL}/api/gift/deleteGift/${action.payload._id}`)\r\n            .then(result => {\r\n                debugger\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 77 ~ result\", result)\r\n                store.dispatch(actions.setAllGifts(result.data))\r\n                if (action.payload.image) {\r\n                    const fileRef = firebase.storage().refFromURL(action.payload.image);\r\n                    fileRef.delete().then(function () {\r\n                        console.log(\"File Deleted\")\r\n                    }).catch(function (error) {\r\n                        console.log(\"🚀 ~ file: gift.crud.js ~ line 85 ~ error\", error)\r\n                    });\r\n                    store.dispatch(actions.setCurrentNotification('המתנה נמחקה בהצלחה!'));\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: gift.crud.js ~ line 81 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה במחיקת המתנה!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}","import { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport reducers from './reducers/index';\r\n\r\nimport { createUser, getUserByUid, updateUser } from './middleware/user.crud';\r\nimport { getAllCampaigns, getCampaignById, createCampaign, updateCampaign, deleteCampaign, } from './middleware/campaign.crud';\r\nimport { getAllGifts, createGift, getGiftById, updateGift, deleteGift } from './middleware/gift.crud';\r\nimport { createCard, deleteCard, updateCard } from './middleware/card.crud';\r\nimport { getAllCompanies, createCompany, updateCompany } from './middleware/company.crud';\r\nimport { setCurrentNotification } from './middleware/general.crud';\r\nimport { createDonation, getDonationsByRecruiterId } from './middleware/donation.crud';\r\nimport { createRecruiter, updateRecruiterDetails, getRecruiterById, updateRecruiter, deleteRecruiter } from './middleware/recruiter.crud';\r\nimport { confirmApply, createApply, getApplies } from './middleware/apply.crud';\r\n\r\nconst store = createStore(\r\n    reducers,\r\n    composeWithDevTools(applyMiddleware(thunk,\r\n        getUserByUid,\r\n        updateUser,\r\n        getAllCampaigns,\r\n        getCampaignById,\r\n        createCampaign,\r\n        updateCampaign,\r\n        createGift,\r\n        updateGift,\r\n        getGiftById,\r\n        getAllGifts,\r\n        createCard,\r\n        getAllCompanies,\r\n        createCompany,\r\n        updateCompany,\r\n        setCurrentNotification,\r\n        createDonation,\r\n        getDonationsByRecruiterId,\r\n        createRecruiter,\r\n        updateRecruiterDetails,\r\n        getRecruiterById,\r\n        createApply,\r\n        getApplies,\r\n        confirmApply,\r\n        createUser,\r\n        deleteCampaign,\r\n        updateCard,\r\n        deleteCard,\r\n        updateRecruiter,\r\n        deleteRecruiter,\r\n        deleteGift,\r\n    )));\r\n\r\nexport default store;","import axios from \"axios\";\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport { actions } from \"../actions\"\r\n\r\nexport const getUserByUid = store => next => action => {\r\n    if (action.type === 'GET_USER_BY_UID') {\r\n        axios.get(`${SERVER_URL}/api/user/getUserByUid/${action.payload}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 8 ~ result\", result);\r\n                store.dispatch(actions.setUser(result.data));\r\n                if (!result.data)\r\n                    store.dispatch(actions.setCurrentNotification('משתמש לא קיים!'))\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 12 ~ error\", error);\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה במציאת המשתמש!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const updateUser = store => next => action => {\r\n    if (action.type === 'UPDATE_USER') {\r\n        axios.put(`${SERVER_URL}/api/user/updateUser`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 23 ~ result\", result)\r\n                store.dispatch(actions.setUser(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 27 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const createUser = store => next => action => {\r\n    if (action.type === 'CREATE_USER') {\r\n        axios.post(`${SERVER_URL}/api/user/createUser`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 37 ~ result\", result)\r\n                store.dispatch(actions.setUser(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: user.crud.js ~ line 41 ~ error\", error);\r\n            })\r\n    }\r\n    return next(action)\r\n}","import { actions } from \"../actions\"\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport axios from 'axios';\r\n\r\nexport const getAllCampaigns = store => next => action => {\r\n    if (action.type === 'GET_ALL_CAMPAIGNS') {\r\n        axios.get(`${SERVER_URL}/api/campaign/getAllCampaigns`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 9 ~ result\", result)\r\n                store.dispatch(actions.setAllCampaigns(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 12 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getCampaignById = store => next => action => {\r\n    if (action.type === 'GET_CAMPAIGN_BY_ID') {\r\n        axios.get(`${SERVER_URL}/api/campaign/getCampaignById/${action.payload}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 23 ~ result\", result);\r\n                store.dispatch(actions.setCampaignFromServer(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 27 ~ error\", error);\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const createCampaign = store => next => action => {\r\n    if (action.type === 'CREATE_CAMPAIGN') {\r\n        axios.post(`${SERVER_URL}/api/campaign/createCampaign`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 27 ~ result.data\", result.data);\r\n                if (!result.data.campaign.images.length) {\r\n                    store.dispatch(actions.setCurrentNotification('הקמפיין נוצר בהצלחה!'))\r\n                }\r\n                store.dispatch(actions.setCampaignFromServer(result.data.campaign));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n                store.dispatch(actions.setCampaignId(result.data.campaign._id))\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n            })\r\n            .catch(error => {\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת הקמפיין!'))\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 24 ~ error\", error)\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const updateCampaign = store => next => action => {\r\n    if (action.type === 'UPDATE_CAMPAIGN') {\r\n        const data=action.payload;\r\n        axios.put(`${SERVER_URL}/api/campaign/updateCampaign`, {...data,uid:store.getState().userReducer.user.uid})\r\n            .then(result => {\r\n                if (action.payload.create)\r\n                    store.dispatch(actions.setCurrentNotification('הקמפיין נוצר בהצלחה!'));\r\n                else\r\n                    store.dispatch(actions.setCurrentNotification('הקמפיין התעדכן בהצלחה!'))\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 39 ~ result\", result)\r\n                store.dispatch(actions.setCampaignFromServer(result.data.campaign));\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n\r\n            })\r\n            .catch(error => {\r\n                if (action.payload.create)\r\n                    store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת הקמפיין!'))\r\n                else\r\n                    store.dispatch(actions.setCurrentNotification('ארעה שגיאה בעדכון הקמפיין!'))\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 42 ~ error\", error)\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const deleteCampaign = store => next => action => {\r\n    if (action.type === 'DELETE_CAMPAIGN') {\r\n        axios.delete(`${SERVER_URL}/api/campaign/deleteCampaign/${action.payload.campaignId}/${action.payload.userId}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 80 ~ result\", result)\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n                store.dispatch(actions.setCurrentNotification('הקמפיין נמחק בהצלחה!'))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: campaign.crud.js ~ line 85 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה במחיקת הקמפיין!'))\r\n            });\r\n    }\r\n    return next(action);\r\n}","import axios from 'axios';\r\n\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport { actions } from '../actions';\r\n\r\nexport const createCard = store => next => action => {\r\n    if (action.type === 'CREATE_CARD') {\r\n        axios.post(`${SERVER_URL}/api/card/createCard/${action.payload.campaignId}/${store.getState().userReducer.user.uid}`, action.payload.card)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 9 ~ result\", result)\r\n                store.dispatch(actions.setCurrentNotification('הכרטיס התווסף בהצלחה!'))\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 12 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת הכרטיס!'))\r\n\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const updateCard = store => next => action => {\r\n    if (action.type === 'UPDATE_CARD') {\r\n        axios.put(`${SERVER_URL}/api/card/updateCard`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 26 ~ result\", result)\r\n                store.dispatch(actions.setAllCampaigns(result.data.campaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n                store.dispatch(actions.setCurrentNotification('הכרטיס התעדכן בהצלחה!'))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 30 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה בעדכון הכרטיס!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const deleteCard = store => next => action => {\r\n    if (action.type === 'DELETE_CARD') {\r\n        axios.delete(`${SERVER_URL}/api/card/deleteCard/${action.payload._id}/${store.getState().userReducer.user.uid}/${action.payload.gift._id}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 43 ~ result\", result)\r\n                store.dispatch(actions.setAllCampaigns(result.data.campaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n                store.dispatch(actions.setAllGifts(result.data.allGifts));\r\n                store.dispatch(actions.setCurrentNotification('הכרטיס נמחק בהצלחה!'))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: card.crud.js ~ line 49 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה במחיקת הכרטיס!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}","import axios from 'axios';\r\n\r\nimport { actions } from \"../actions\";\r\nimport { SERVER_URL } from \"../../constants\";\r\n\r\nexport const getCompanyById = store => next => action => {\r\n    if (action.type === 'GET_COMPANY_BY_ID') {\r\n        axios.get(`${SERVER_URL}/api/company/getCompanyById/${action.payload}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 10 ~ result\", result)\r\n                store.dispatch(actions.setCompany(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 14 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getAllCompanies = store => next => action => {\r\n    if (action.type === 'GET_ALL_COMPANIES') {\r\n        axios.get(`${SERVER_URL}/api/company/getAllCompanies`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 24 ~ result\", result)\r\n                store.dispatch(actions.setAllCompanies(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 28 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const createCompany = store => next => action => {\r\n    if (action.type === 'CREATE_COMPANY') {\r\n        axios.post(`${SERVER_URL}/api/company/createCompany`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 38 ~ result\", result)\r\n                store.dispatch(actions.setAllCompanies(result.data));\r\n                if(!result.data[result.data.length-1].logo){\r\n                    store.dispatch(actions.setCurrentNotification(`החברה נוצרה בהצלחה!`))\r\n                }\r\n                // [result.data.length-1] the newest company;\r\n                store.dispatch(actions.setCompany(result.data[result.data.length-1]));\r\n                store.dispatch(actions.setCompanyId(result.data[result.data.length-1]._id));\r\n            })\r\n            .catch(error => {\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת החברה!'))\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 42 ~ error\", error)\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const updateCompany = store => next => action => {\r\n    if (action.type === 'UPDATE_COMPANY') {\r\n        axios.put(`${SERVER_URL}/api/company/updateCompany`, action.payload)\r\n            .then(result => {\r\n                store.dispatch(actions.setCurrentNotification(`החברה נוצרה בהצלחה!`))\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 53 ~ result\", result);\r\n            })\r\n            .catch(error => {\r\n                // store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת החברה!'))\r\n                console.log(\"🚀 ~ file: company.crud.js ~ line 56 ~ error\", error)\r\n            });\r\n    }\r\n    return next(action);\r\n}","import { actions } from \"../actions\"\r\n\r\nexport const setCurrentNotification = store => next => action => {\r\n    if (action.type === 'SET_CURRENT_NOTIFICATION') {\r\n        store.dispatch(actions.zeroCurrentNotification());\r\n    }\r\n    return next(action)\r\n}","import axios from \"axios\";\r\nimport { SERVER_URL } from \"../../constants\"\r\nimport { actions } from \"../actions\";\r\n\r\nexport const createDonation = store => next => action => {\r\n    if (action.type === 'CREATE_DONATION') {\r\n        axios.post(`${SERVER_URL}/api/donation/createDonation/${action.payload.campaignId}/${store.getState().userReducer.user.uid}`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: donation.crud.js ~ line 8 ~ result\", result);\r\n                store.dispatch(actions.setCurrentNotification('התרומה שלך התווספה בהצלחה!'));\r\n                store.dispatch(actions.setCampaignFromServer(result.data.campaign));\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n                store.getState().socketReducer.socket.emit('newDonation', { room: result.data.campaign._id,donation:result.data.donation });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: donation.crud.js ~ line 14 ~ error\", error);\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת התרומה!'));\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getDonationsByRecruiterId = store => next => action => {\r\n    if (action.type === 'GET_DONATIONS_BY_RECRUITER_ID') {\r\n        axios.get(`${SERVER_URL}/api/donation/getDonationsByRecruiterId/${action.payload.recruiterId}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: donation.crud.js ~ line 25 ~ result\", result);\r\n                store.dispatch(actions.setRecruiterDonations(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: donation.crud.js ~ line 28 ~ error\", error);\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה בקבלת התרומות לתורם זה!'));\r\n            });\r\n    }\r\n    return next(action);\r\n}","import axios from \"axios\";\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport { actions } from \"../actions\";\r\n\r\nexport const createRecruiter = store => next => action => {\r\n    if (action.type === 'CREATE_RECRUITER') {\r\n        axios.post(`${SERVER_URL}/api/recruiter/createRecruiter`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 5 ~ result\", result);\r\n                store.dispatch(actions.setCurrentNotification('המגייס נוצר בהצלחה!'));\r\n                // let link = \"http://localhost:3000/recruiters/\" + result.data.recruiter._id;\r\n                let link = \"https://matching-try.herokuapp.com/recruiters/\" + result.data.recruiter._id;\r\n                store.dispatch(actions.setRecruiterLink(link));\r\n                debugger\r\n                store.dispatch(actions.updateRecruiterDetails({ id: result.data.recruiter._id, link, uid: store.getState().userReducer.user.uid }));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 9 ~ error\", error);\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת מגייס!'));\r\n            });\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const updateRecruiterDetails = store => next => action => {\r\n    if (action.type === 'UPDATE_RECRUITER_DETAILS') {\r\n        axios.put(`${SERVER_URL}/api/recruiter/updateRecruiterDetails/${action.payload.id}`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 26 ~ result\", result)\r\n                store.dispatch(actions.setAllCampaigns(result.data.allCampaigns));\r\n                store.dispatch(actions.setUser(result.data.user))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 29 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const getRecruiterById = store => next => action => {\r\n    if (action.type === 'GET_RECRUITER_BY_ID') {\r\n        axios.get(`${SERVER_URL}/api/recruiter/getRecruiterById/${action.payload.recruiterId}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 41 ~ result\", result);\r\n                store.dispatch(actions.setCurrentRecruiter(result.data.recruiter));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 44 ~ error\", error);\r\n            })\r\n    }\r\n    return next(action);\r\n}\r\n\r\nexport const updateRecruiter = store => next => action => {\r\n    if (action.type === 'UPDATE_RECRUITER') {\r\n        axios.put(`${SERVER_URL}/api/recruiter/updateRecruiter/${store.getState().userReducer.user.uid}`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 55 ~ result\", result)\r\n                store.dispatch(actions.setCurrentNotification('המגייס התעדכן בהצלחה!'))\r\n                store.dispatch(actions.setAllCampaigns(result.data.campaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 58 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה בעדכון המגייס!'))\r\n            })\r\n    }\r\n    return next(action);\r\n}\r\n\r\n\r\nexport const deleteRecruiter = store => next => action => {\r\n    if (action.type === 'DELETE_RECRUITER') {\r\n        axios.delete(`${SERVER_URL}/api/recruiter/deleteRecruiter/${action.payload}/${store.getState().userReducer.user.uid}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 71 ~ result\", result)\r\n                store.dispatch(actions.setCurrentNotification('המגייס נמחק בהצלחה!'))\r\n                store.dispatch(actions.setAllCampaigns(result.data.campaigns));\r\n                store.dispatch(actions.setUser(result.data.user));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: recruiter.crud.js ~ line 75 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה במחיקת המגייס!'))\r\n            })\r\n    }\r\n    return next(action);\r\n}\r\n","import axios from 'axios';\r\nimport { SERVER_URL } from \"../../constants\";\r\nimport { actions } from '../actions';\r\n\r\nexport const createApply = store => next => action => {\r\n    if (action.type === 'CREATE_APPLY') {\r\n        axios.post(`${SERVER_URL}/api/apply/CreateApply`, action.payload)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 9 ~ result\", result)\r\n                store.dispatch(actions.setApplies(result.data));\r\n                store.dispatch(actions.setCurrentNotification('הבקשה נוצרה בהצלחה!'))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 13 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה ביצירת הבקשה!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\n\r\nexport const getApplies = store => next => action => {\r\n    if (action.type === 'GET_APPLIES') {\r\n        axios.get(`${SERVER_URL}/api/apply/getApplies`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 24 ~ result\", result);\r\n                store.dispatch(actions.setApplies(result.data));\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 27 ~ error\", error)\r\n            })\r\n    }\r\n    return next(action)\r\n}\r\nexport const confirmApply = store => next => action => {\r\n    if (action.type === 'CONFIRM_APPLY') {\r\n        axios.put(`${SERVER_URL}/api/apply/confirmApply/${action.payload}`)\r\n            .then(result => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 37 ~ result\", result);\r\n                store.dispatch(actions.setApplies(result.data));\r\n                store.dispatch(actions.setCurrentNotification('הבקשה אושרה בהצלחה!'))\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: apply.crud.js ~ line 40 ~ error\", error)\r\n                store.dispatch(actions.setCurrentNotification('ארעה שגיאה באישור הבקשה!'))\r\n            })\r\n    }\r\n    return next(action)\r\n}","export const numberWithCommas = (goal) => {\r\n    return goal.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Progress, Spin } from 'antd';\r\nimport { actions } from '../../redux/actions';\r\nimport { numberWithCommas } from '../../services/service';\r\nimport Stamp from './Stamp';\r\nimport { ReactHeight } from 'react-height';\r\n\r\nfunction AllCampaigns(props) {\r\n\r\n    const { history } = props;\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const [showSpin, setShowSpin] = useState(true);\r\n\r\n    useEffect(() => {\r\n        dispatch(actions.getAllCampaigns());\r\n        setTimeout(() => {\r\n            setShowSpin(false)\r\n        }, 2000);\r\n    }, []);\r\n\r\n    const selectCampaign = (campaign) => {\r\n        dispatch(actions.setCampaign(campaign._id));\r\n        dispatch(actions.getCompanyById(campaign.company));\r\n        history.push(`/current-campaign/${campaign._id}`);\r\n    }\r\n\r\n    const [currentHeight, setCurrentHeight] = useState([]);\r\n    const func = (height, i) => {\r\n        let a = currentHeight;\r\n        a.push({ key: i, value: height })\r\n        setCurrentHeight([...a])\r\n        // console.log({ key: i, value: height })\r\n    }\r\n    return (\r\n        <div className='AllCampaigns container-fluid'>\r\n            <div className=\"card-columns\">\r\n                {allCampaigns ? allCampaigns.map((campaign, i) => (\r\n                    <div className=\"m-3 card comapaignCard\" key={campaign._id} onClick={() => { selectCampaign(campaign) }}>\r\n                        <ReactHeight onHeightReady={height => { func(height, i) }}>\r\n                            {/* // <ReactHeight onHeightReady={height => { func(height) }setCurrentHeight(...currentHeight, [{key: i, value: height }]); console.log(`the id of the card is ${campaign._id} and the height is ${height}`) }}> */}\r\n                            <div>\r\n                                <h5 className=\"card-title\">{campaign.campaignName}</h5>\r\n                                <Spin style={{ display: showSpin ? 'block' : 'none' }} />\r\n                                {(campaign.company && campaign.company.logo) ?\r\n                                    <img style={{ width: \"50%\", display: showSpin ? 'none' : '' }} src={campaign.company.logo} className=\"card-img-top\" alt=\"...\" /> :\r\n                                    <div style={{ display: showSpin ? 'none' : '' }} className=\"card-img-top\" >no company logo</div>}\r\n                                <div className=\"card-body\">\r\n                                    <p className=\"card-text\">{campaign.purposeOfCollecting}</p>\r\n                                    <b>יעד הקמפיין {numberWithCommas(campaign.goal)}</b>\r\n                                    {campaign.goal ? <Progress percent={Math.round(100 / campaign.goal * campaign.goalRaised)} /> : <Progress percent={0} />}\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                campaign.duration[1] && new Date(campaign.duration[1]) < new Date(Date.now()) ?\r\n                                    // <div style={{ marginTop: '20px' }}>\r\n                                    <div style={{ padding: \"30px\", backgroundColor: \"red\", height: \"50px\", width: \"20px\", zIndex: '4' }} style={{ padding: `${currentHeight[i] ? (Number(currentHeight[i].value) - 250) / 2 : 1000}px !important`, marginTop: `${currentHeight[i] ? (Number(currentHeight[i].value) - 250) / 2 : 1000}px !important` }}>\r\n                                        {/* <div style={{ marginTop: `${(Number(currentHeight[i].value) - 250) / 2}px !important` }}> */}\r\n                                        {/* <Stamp height={currentHeight} /> */}\r\n                                    </div>\r\n                                    :\r\n                                    \"\"\r\n                            }\r\n                        </ReactHeight>\r\n                    </div>\r\n                )) :\r\n                    // <div style={{ textAlign: 'center' }}><LoadingOutlined style={{ fontSize: 40 }} spin size='large' /></div>}\r\n                    <Spin size='large' />\r\n                }\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default withRouter(AllCampaigns);","import React from 'react';\r\n\r\nimport AllCampaigns from './AllCampaigns';\r\n\r\nexport default function BaseCampaigns(props) {\r\n\r\n    return (\r\n        <div className='BaseCampaigns'>\r\n            <AllCampaigns />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Progress } from 'antd';\r\nimport { withRouter } from 'react-router';\r\nimport { numberWithCommas } from '../../services/service';\r\nimport moment from 'moment';\r\n\r\nimport { actions } from '../../redux/actions';\r\n\r\nfunction LiveCampaigns(props) {\r\n\r\n    const [liveCampaigns, setLiveCampaigns] = useState([]);\r\n\r\n    const { history } = props;\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        let currentDate = moment(Date.now()).format('DD/MM/YYYY');\r\n        setLiveCampaigns(allCampaigns.filter(c => currentDate >= c.duration[0] && currentDate <= c.duration[1]));\r\n    }, []);\r\n\r\n    const selectCampaign = (campaign) => {\r\n        dispatch(actions.setCampaign(campaign._id));\r\n        dispatch(actions.getCompanyById(campaign.company));\r\n        history.push(`/current-campaign/${campaign._id}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"LiveCampaigns container-fluid\">\r\n            <div className='row'>\r\n                {liveCampaigns && liveCampaigns.map(campaign => (\r\n                    <div key={campaign._id} className=\"col-4 d-flex align-items-center justify-content-center\">\r\n                        <div className=\"shadow mb-5 bg-body rounded card liveCampaignCard\" key={campaign._id} onClick={() => { selectCampaign(campaign) }}>\r\n                            {(campaign.images && campaign.images[0]) ?\r\n                                <div style={{ backgroundImage: `url(${campaign.images[0]})` }} className=\"cardImg card-img-top\" alt=\"...\" /> :\r\n                                <img alt='img' className=\"cardImg card-img-top\" src=\"https://firebasestorage.googleapis.com/v0/b/matching-599f8.appspot.com/o/Companies%2F6140542c341303e08fd8e6a6%2F1.jpg?alt=media&token=da0a0364-7440-4bf4-85dd-9dec67ea5109\" alt=\"...\" />}\r\n                            <div className=\"card-body\">\r\n                                <div className=\"companyDetails\">\r\n                                    <img alt='img' className=\"logoImg\" style={{ maxWidth: '50%', minWidth: '40%', height: '5vh', objectFit: 'contain', display: 'inline-block' }} src={campaign.company.logo}></img>\r\n                                </div>\r\n                                <h5 className=\"card-title\">{campaign.campaignName}</h5>\r\n                                <div className=\"progress\">\r\n                                    {campaign.goal ? <Progress percent={Math.round(100 / campaign.goal * campaign.goalRaised)} /> : <Progress percent={0} />}\r\n                                </div>\r\n                                <small className=\"text-muted goal\">מתוך סכום של  {numberWithCommas(campaign.goal)} ש\"ח</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(LiveCampaigns);","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport LiveCampaigns from '../campaigns/LiveCampaigns';\r\n\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function BaseHome() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n\r\n    useEffect(() => {\r\n        dispatch(actions.getAllCampaigns());\r\n    }, []);\r\n\r\n    return (\r\n        <div className='BaseHome'>\r\n            {allCampaigns ? <LiveCampaigns /> : \"\"}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function NotFound() {\r\n\r\n    return (\r\n        <div className='NotFound'>\r\n            <h4>NotFound</h4>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\n\r\nexport default function Login() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [isSignUp, setIsSignUp] = useState(false);\r\n    const [isForgetPassword, setIsForgetPassword] = useState(false);\r\n\r\n    const signIn = (email, password) => {\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then((result) => {\r\n                console.log(\"🚀 ~ file: Login.js ~ line 19 ~ .then ~ result\", result)\r\n                dispatch(actions.setFirebaseUser(result.user));\r\n                dispatch(actions.getUserByUid(result.user.uid));\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"🚀 ~ file: Login.js ~ line 24 ~ signIn ~ error\", error)\r\n                if (error.code === 'auth/user-not-found') {\r\n                    dispatch(actions.setCurrentNotification('משתמש לא קיים!'))\r\n                }\r\n                if (error.code === 'auth/wrong-password') {\r\n                    dispatch(actions.setCurrentNotification('סיסמא לא תקינה!'))\r\n                }\r\n                else {\r\n                    dispatch(actions.setCurrentNotification(error.code))\r\n                }\r\n            });\r\n    }\r\n\r\n    const signUp = (email, password) => {\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((result) => {\r\n                console.log(\"🚀 ~ file: Login.js ~ line 35 ~ .then ~ result\", result)\r\n                dispatch(actions.setFirebaseUser(result.user));\r\n                dispatch(actions.createUser(result.user));\r\n            })\r\n            .catch((error) => {\r\n                if (error.code === 'auth/email-already-in-use') {\r\n                    dispatch(actions.setCurrentNotification('כתובת מייל בשימוש!'))\r\n                }\r\n                else\r\n                    dispatch(actions.setCurrentNotification(error.code))\r\n                console.log(\"🚀 ~ file: Login.js ~ line 27 ~ signUp ~ error\", error)\r\n            });\r\n    }\r\n\r\n    const signWithGoogle = () => {\r\n        let provider = new firebase.auth.GoogleAuthProvider();\r\n        // provider.addScope('https://www.googleapis.com/auth/contacts');\r\n        firebase.auth().signInWithPopup(provider)\r\n            .then(function (result) {\r\n                console.log(\"🚀 ~ file: Login.js ~ line 42 ~ result\", result);\r\n                dispatch(actions.setFirebaseUser(result.user));\r\n                if (result.additionalUserInfo.isNewUser) {\r\n                    dispatch(actions.createUser(result.user));\r\n                } else {\r\n                    dispatch(actions.getUserByUid(result.user.uid));\r\n                }\r\n            }).catch(function (error) {\r\n                dispatch(actions.setCurrentNotification(error.code))\r\n                console.log(\"🚀 ~ file: Login.js ~ line 45 ~ error\", error)\r\n            });\r\n    }\r\n\r\n    const forgetPassword = (email) => {\r\n        firebase.auth().sendPasswordResetEmail(email).then((res) => {\r\n            console.log(\"🚀 ~ file: Login.js ~ line 59 ~ firebase.auth ~ res\", res)\r\n        }).catch((error) => {\r\n            dispatch(actions.setCurrentNotification(error.code))\r\n            console.log(\"🚀 ~ file: Login.js ~ line 64 ~ forgetPassword ~ error\", error)\r\n        });\r\n\r\n    }\r\n    const onFinish = (values) => {\r\n        console.log('Received values of form: ', values);\r\n        if (isForgetPassword) {\r\n            forgetPassword(values.email);\r\n        }\r\n        else {\r\n            if (isSignUp) {\r\n                signUp(values.email, values.password);\r\n            } else {\r\n                signIn(values.email, values.password);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className='Login' style={{ textAlign: 'center' }}>\r\n            <Form onFinish={onFinish}>\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    rules={[{ required: true, message: 'הכנס מייל!' }]}\r\n                >\r\n                    <Input prefix={<MailOutlined />} placeholder=\"מייל\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[{ required: !isForgetPassword, message: 'הכנס סיסמא!' }]}\r\n                >\r\n                    <Input\r\n                        prefix={<LockOutlined />}\r\n                        type=\"password\"\r\n                        placeholder=\"סיסמא\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" onClick={() => { setIsForgetPassword(true); setIsSignUp(false) }}>שכחתי סיסמא</Button>\r\n                    {` או `}\r\n                    <Button type=\"primary\" htmlType=\"submit\">התחבר</Button>\r\n                    {` או `}\r\n                    <Button type='primary' htmlType='submit' onClick={() => { setIsSignUp(true); setIsForgetPassword(false) }}>הרשם</Button>\r\n                    {` או `}\r\n                    <Button type='primary' onClick={signWithGoogle}>GOOGLE</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Form, Select, Button, Input, notification, InputNumber } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\nimport { SERVER_URL } from \"../../constants\"\r\n\r\nexport default function Donate(props) {\r\n\r\n    const { card } = props;\r\n    const [iframeUrl, setIframeUrl] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n\r\n    const onFinish = (values) => {\r\n        // notification.open({\r\n        //     message: 'תרומה חדשה!',\r\n        //     description: 'תרומה חדשה',\r\n        // });\r\n        console.log('Received values of form: ', values);\r\n        axios.post(`${SERVER_URL}/api/donation/clearingCredit`, {\r\n            description: card.text,\r\n            email: user.email,\r\n            fullName: user.name,\r\n            paymentsNum: values.paymentsNum,\r\n            phone: user.phone,\r\n            sum: card.sum,\r\n        })\r\n            .then(result => {\r\n                setIframeUrl(result.data.url);\r\n                // window.open(result.data.url, \"_blank\")\r\n                console.log(\"🚀 ~ file: Donate.js ~ line 22 ~ onFinish ~ result\", result)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"🚀 ~ file: Donate.js ~ line 23 ~ onFinish ~ error\", error)\r\n\r\n            })\r\n        dispatch(actions.createDonation({ ...values, campaignId: campaign._id, user: user._id, card: card._id, date: moment(new Date()).format('DD/MM/YYYY a h:mm:ss ') + \"\" }));\r\n        // props.close();\r\n    }\r\n\r\n    return (\r\n        <div className='Donate'>\r\n            {!iframeUrl ?\r\n                <Form onFinish={onFinish}\r\n                    initialValues={{ paymentsNum: 1 }}\r\n                >\r\n                    <p>{`תרום ${card.sum} וקבל ${card.gift ? card.gift.name : 'אין שם למתנה'}`}</p>\r\n                    <Form.Item\r\n                        name=\"paymentsNum\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `אנא הכנס מס' תשלומים!`,\r\n                            },\r\n                        ]}\r\n                        style={{ display: 'inline-block', width: 'calc(90% - 8px)' }}\r\n                    >\r\n                        <Input\r\n                            min={1}\r\n                            max={6}\r\n                            style={{ margin: '0 16px' }}\r\n                        />‏\r\n\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        name=\"recruiter\"\r\n                        // rules={createCompany ? [] : [\r\n                        //     {\r\n                        //         required: true,\r\n                        //         message: `אנא בחר חברה!`,\r\n                        //     },\r\n                        // ]}\r\n                        style={{ display: 'inline-block', width: 'calc(90% - 8px)' }}\r\n                    >\r\n                        <Select\r\n                            size='large'\r\n                            allowClear\r\n                            showSearch\r\n                            style={{ textAlign: 'right' }}\r\n                            dropdownStyle={{ textAlign: 'right' }}\r\n                            // onChange={() => { setCreateCompany(false) }}\r\n                            notFoundContent={<>לא נמצאו נתונים</>}\r\n                            placeholder={`בחר מגייס...`}\r\n                            virtual={false}\r\n                            dropdownClassName='companiesSelectDropdown'>\r\n                            {campaign && campaign.recruiters && campaign.recruiters.map(item => (\r\n                                <Select.Option key={item._id}>{item.designName}</Select.Option>\r\n                            ))}\r\n                        </Select>\r\n                    </Form.Item>\r\n\r\n                    {/* <Form.Item\r\n                    name=\"credutCard\"\r\n                    rules={[{ required: true, message: 'הכנס מספר אשראי!' }]}\r\n                >\r\n                    <Input type='text' placeholder='מספר אשראי' />\r\n                </Form.Item> */}\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">תרום</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                :\r\n                <iframe src={iframeUrl}></iframe>\r\n            }\r\n\r\n        </div >\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Modal } from 'antd';\r\nimport { actions } from '../../redux/actions';\r\nimport Login from '../login/Login';\r\nimport Donate from './Donate';\r\n\r\nexport default function Card(props) {\r\n\r\n    const { card } = props;\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n    return (\r\n        <div className='Card row'>\r\n            <div className=\"card col-12 mb-2\" style={{ width: \"18rem\" }} onClick={() => {\r\n                if (card.gift.numOfUsed < card.gift.amount)\r\n                    setOpenModal(true)\r\n            }}>\r\n                {card && <div className={`card-body ${card.gift.numOfUsed >= card.gift.amount ? 'watermark notSelected' : ''}`}>\r\n                {/* {card && <div className={`card-body watermark notSelected`}> */}\r\n                    <div className='d-flex align-items-center justify-content-center '>\r\n                        {/* <GiftOutlined /> */}\r\n                        <h3>{`${card.sum} ש\"ח`}</h3>\r\n                    </div>\r\n                    <b className=\"card-text\">{card.text}</b>\r\n                    {card.gift && <>\r\n                        <p>קבלו במתנה {card.gift.name}</p>\r\n                        <Link to={`/gift-details/${card.gift._id}`} onClick={() => {\r\n                            if (card.gift.numOfUsed < card.gift.amount)\r\n                                dispatch(actions.getGiftById(card.gift))\r\n                        }}>לפרטים על המתנה</Link></>}\r\n                    <p>{`נותרו עוד ${card.gift.amount - card.gift.numOfUsed}`}</p>\r\n                </div>}\r\n            </div>\r\n            <Modal footer={false} title='תרום כאן!' visible={openModal} onCancel={() => setOpenModal(false)}>\r\n                {user ? <Donate card={card} close={() => setOpenModal(false)} /> : <Login />}\r\n            </Modal>\r\n        </div >\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Card, Col, Row, } from 'antd';\r\n\r\nexport default function Donations() {\r\n\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n    const [sortedArray, setSortedArray] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setSortedArray(campaign.donations.slice().sort((a, b) => b.date - a.date).reverse());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setSortedArray(campaign.donations.slice().sort((a, b) => b.date - a.date).reverse());\r\n    }, [campaign]);\r\n\r\n    return (\r\n        <div className='Donations'>\r\n            <div style={{ background: '#ace5ac', padding: '10px' }}>\r\n                {sortedArray.length ?\r\n                    <Row gutter={[8, 8]}>\r\n                        {sortedArray.map(donation => {\r\n                            return (\r\n                                <Col span={8} key={donation._id} >\r\n                                    <Card style={{ height: '30vh' }} title={donation.user.name ? donation.user.name : \"לא ידוע\"} bordered={false}>\r\n                                        <div>{`תרם ${donation.card.sum} ש\"ח ${donation.card.text}`}</div>\r\n                                        <div>{`בתאריך ${donation.date}`}</div>\r\n                                        {/* {donation && donation.recruiter ? <div>{`ע\"י ${donation.recruiter.user.name === undefined ? \"לא ידוע\" : donation.recruiter.user.name}`}</div> : \"\"} */}\r\n                                        {donation && donation.recruiter ? <div>{`ע\"י ${donation.recruiter.designName}`}</div> : \"\"}\r\n                                        {/* <div>{`וקבל ${donation.card.gift && donation.card.gift.name}`}</div> */}\r\n                                    </Card>\r\n                                </Col>\r\n                            )\r\n                        })}\r\n                    </Row> : 'אין תרומות עדיין!'}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Card, Col, Row, } from 'antd';\r\n\r\n\r\nexport default function Recruiters() {\r\n\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n\r\n    return (\r\n        <div className='Recruiters'>\r\n            <div style={{ background: '#ace5ac', padding: '10px' }}>\r\n                {campaign.recruiters.length ?\r\n                    <Row gutter={[8, 8]}>\r\n                        {campaign.recruiters.map(recruiter => {\r\n                            return (\r\n                                <Col style={{ cursor: 'pointer' }} span={8} key={recruiter._id} onClick={() => recruiter.link ? window.open(recruiter.link, \"_blank\") : \"\"}>\r\n                                    <Card style={{ height: '26vh' }} title={recruiter.designName === undefined ? 'לא ידוע' : recruiter.designName} bordered={false}>\r\n                                        <div>{`לקח על עצמו ${recruiter.sum} ש\"ח`}</div>\r\n                                        <div>{`ואסף ${recruiter.sumRaised === undefined ? 0 : recruiter.sumRaised}`}</div>\r\n                                        {recruiter.sumRaised > recruiter.sum ? <b style={{ backgroundColor: \"yellow\" }}>הגיע ליעד!!</b> : \"\"}\r\n                                    </Card>\r\n                                </Col>\r\n                            )\r\n                        })}\r\n                    </Row> : 'אין מגייסים עדיין!'}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Spin, Tooltip, Tabs, notification, } from 'antd';\r\nimport { ShareAltOutlined, MailOutlined, CopyOutlined, CopyFilled } from '@ant-design/icons';\r\nimport { numberWithCommas } from '../../services/service';\r\nimport { SpinnerCircularFixed } from 'spinners-react';\r\n\r\nimport { actions } from '../../redux/actions';\r\n\r\nimport Card from './Card';\r\nimport Donations from './Donations';\r\nimport Recruiters from './Recruiters';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n\r\nexport default function Campaign(props) {\r\n\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n    const socket = useSelector(state => state.socketReducer.socket);\r\n    const dispatch = useDispatch();\r\n\r\n    const [showSpin, setShowSpin] = useState(true);\r\n    const [copy, setCopy] = useState(true);\r\n    const [index, setIndex] = useState(1);\r\n\r\n    const showCurrentImg = (n) => {\r\n        if (!campaign || !campaign.images.length) { return }\r\n        const x = document.getElementsByClassName(\"mySlides\");\r\n        let slideIndex = n;\r\n        if (n > x.length) {\r\n            slideIndex = 1\r\n        }\r\n        if (n < 1) {\r\n            slideIndex = x.length\r\n        }\r\n        for (let i = 0; i < x.length; x[i].style.display = \"none\", i++);\r\n        x[slideIndex - 1].style.display = \"block\";\r\n        setIndex(slideIndex)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!campaign) {\r\n            dispatch(actions.getCampaignById(window.location.pathname.split('/')[2]));\r\n        }\r\n        // time to get the images from firebase\r\n        setTimeout(() => {\r\n            setShowSpin(false)\r\n        }, 2000);\r\n\r\n        socket.on('gotEntered', event => console.log(event.msg));\r\n        socket.on('leaveCampaign', event => console.log(event.msg));\r\n        socket.on('newDonation', event => {\r\n            notification.open({\r\n                message: 'תרומה חדשה!',\r\n                description: event.donation.user.name + ` תרם ` + event.donation.card.sum + ` וקבל ` + event.donation.card.gift.advertising\r\n            });\r\n            console.log(event);\r\n            console.log(\"🚀 ~ file: Campaign.js ~ line 60 ~ useEffect ~ campaign\", campaign)\r\n            campaign ? dispatch(actions.getCampaignById(campaign._id)) : dispatch(actions.getCampaignById(window.location.href.split('/')[4]));\r\n        });\r\n        return () => socket.emit('leaveCampaign', { room: campaign ? campaign._id : window.location.href.split('/')[4] });\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        campaign ? socket.emit('enterCampaign', { room: campaign._id }) : console.log(\"No campaign!\");\r\n    }, [campaign]);\r\n\r\n    // when spining finish -> its the time to display the images (by width);\r\n    useEffect(() => {\r\n        if (!showSpin) {\r\n            showCurrentImg(1)\r\n        }\r\n    }, [showSpin])\r\n\r\n    useInterval(() => {\r\n        showCurrentImg(index + 1);\r\n    }, 10000);\r\n\r\n    return (\r\n        <div className='Campaign container-fluid'>\r\n            {campaign ?\r\n                <div>\r\n                    <div className='row'>\r\n                        <h2>{campaign ? campaign.campaignName : campaign}</h2>\r\n                    </div>\r\n                    <div className='row'>\r\n                        <div className=\"col-9\">\r\n                            <div className=\"row container\" style={{ height: '50vh' }}>\r\n                                <div className='d-flex justify-content-center'>\r\n                                    {campaign.images.length ?\r\n                                        <div className='col-7 offset-1 d-flex align-items-center justify-content-center'>\r\n                                            <SpinnerCircularFixed style={{ display: showSpin ? 'block' : 'none' }} size={73} thickness={100} speed={100} color=\"#252583\" secondaryColor=\"#5ddf5d\" />\r\n                                            {campaign.images.length > 1 && <div className='arrowSlide pointer notSelected' onClick={e => showCurrentImg(index + 1)} title={`הבא`}\r\n                                                style={{ display: showSpin ? 'none' : 'block' }}>&#10094;</div>}\r\n                                            {campaign.images.map((i, imgIndex) => {\r\n                                                return (<img key={imgIndex} alt='img' title={`תמונה מס' ${imgIndex + 1}`}\r\n                                                    // style={{ width: '100%', height: '50vh', objectFit: 'contain', display: showSpin ? 'none' : 'block' }}\r\n                                                    style={{ height: '50vh', objectFit: 'contain', width: showSpin ? '0px' : '100%' }}\r\n                                                    className='rounded mySlides notSelected' src={i} />)\r\n                                            })}\r\n                                            {campaign.images.length > 1 && <div className='arrowSlide pointer notSelected' onClick={e => showCurrentImg(index - 1)} title={`הקודם`} style={{ display: showSpin ? 'none' : 'block' }}>&#10095;</div>}\r\n                                        </div> :\r\n                                        <div className='col-8 d-flex align-items-center justify-content-center'>\r\n                                            <div>אין תמונות לקמפיין זה 📸</div>\r\n                                        </div>}\r\n                                    <div className=\"col-4 d-flex align-items-center\">\r\n                                        <div className=\"blockquote-wrapper\">\r\n                                            <div className=\"blockquote\">\r\n                                                <h4 className=\"text-break p-1 purposeOfCollectingTxt\">{campaign ? campaign.purposeOfCollecting : \"purposeOfCollecting!!!\"}</h4>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='row mt-5 d-flex justify-content-center'>\r\n                                <div className='row'>\r\n                                    <div className=\"progress col-10 campaignProgress\">\r\n                                        <div\r\n                                            className=\"progress-bar bg-secondary\"\r\n                                            role=\"progressbar\"\r\n                                            aria-valuenow={Math.round(100 / campaign.goal * campaign.goalRaised)}\r\n                                            aria-valuemin=\"0\"\r\n                                            aria-valuemax=\"100\"\r\n                                            style={{ width: `${Math.round(100 / campaign.goal * campaign.goalRaised)}%` }}></div>\r\n                                    </div>\r\n                                    <div className=\"col-2\">\r\n                                        {Math.round(100 / campaign.goal * campaign.goalRaised)}%\r\n                                    </div>\r\n                                </div>\r\n                                <div className='row'>\r\n                                    <div className='col-8'>\r\n                                        <p>מתוך סכום של {numberWithCommas(campaign.goal)} ש\"ח</p>\r\n                                        {/* {campaign.donations.length ? <h4>מס' התרומות עד כה הינו {campaign.donations.length}</h4> : <h4>היה אתה התורם הראשון!</h4>} */}\r\n                                        {campaign.donations.length ? <h4>{`עד כה נתרם ${campaign.goalRaised} ש\"ח, על ידי ${campaign.donations.length} תרומות.`}</h4> : <h4>היה אתה התורם הראשון!</h4>}\r\n                                    </div>\r\n                                    {/* <div className='col-4'></div> */}\r\n                                    <div className='col-4 d-flex justify-content-around align-items-center Share'>\r\n                                        <div>\r\n                                            שתף באמצעות:\r\n                                            {/* <ShareAltOutlined /> */}\r\n                                        </div>\r\n                                        <Tooltip title={copy ? 'העתקת קישור' : 'הקישור הועתק'} onClick={() => {\r\n                                            setCopy(false);\r\n                                            // navigator.clipboard.writeText(`http://localhost:3000/current-campaign/${campaign._id}`);\r\n                                            navigator.clipboard.writeText(`https://matching-try.herokuapp.com/current-campaign/${campaign._id}`);\r\n                                        }}>\r\n                                            <div className='shareIcon'>\r\n                                                {copy ? <CopyOutlined /> : <CopyFilled />}\r\n                                            </div>\r\n                                        </Tooltip>\r\n                                        <Tooltip title='מייל'>\r\n                                            <div className='shareIcon'>\r\n                                                {/* NOTE SERVER */}\r\n                                                {/* <MailOutlined onClick={() => window.open(`https://mail.google.com/mail/u/0/?fs=1&su=1&body=http://3000/current-campaign/${campaign._id}&tf=cm`, '_blank')} /> */}\r\n                                                <MailOutlined onClick={() => window.open(`https://mail.google.com/mail/u/0/?fs=1&su=1&body=https://matching-try.herokuapp.com/current-campaign/${campaign._id}&tf=cm`, '_blank')} />\r\n                                            </div>\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-3 campaignCards\">\r\n                            {campaign.cards.length ? campaign.cards.map(card =>\r\n                                <Card key={card._id} card={card} />\r\n                            ) : \"no cards yet...\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <Tabs defaultActiveKey=\"1\" type='card'>\r\n                        <TabPane tab=\"תרומות\" key=\"1\">\r\n                            <Donations />\r\n                        </TabPane>\r\n                        <TabPane tab=\"מגייסים\" key=\"2\">\r\n                            <Recruiters />\r\n                        </TabPane>\r\n                    </Tabs>\r\n                </div> : 'אין קמפיין'\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\n\r\nfunction useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n\r\n    useEffect(() => {\r\n        function tick() {\r\n            savedCallback.current();\r\n        }\r\n\r\n        let id = setInterval(tick, delay);\r\n        return () => clearInterval(id);\r\n    }, [delay]);\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function GiftDetails(props) {\r\n\r\n    const currentGift = useSelector(state => state.giftReducer.currentGift);\r\n\r\n    return (\r\n        <div className=\"GiftDetails\">\r\n            <div className=\"row\">\r\n                <div className=\"col-2\"></div>\r\n                <div className=\"card mb-3 col-8 giftCard\">\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-md-4\">\r\n                            <img className=\"card-img\" src={currentGift ? currentGift.image: \"\"} alt=\"...\" />\r\n                            {/* <img style={{ width: '100%', height: '100%', objectFit: 'contain' }} className=\"card-img\" src='https://s3.eu-central-1.amazonaws.com/prod-prog-site-s3/data/siropu/am/user/161276d2ed5a57.gif' alt=\"...\" /> */}\r\n                        </div>\r\n                        <div className=\"col-md-8\">\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">{`רוצים לדעת עוד על ${currentGift ? currentGift.name : \"\"}?`}</h5>\r\n                                <p className=\"card-text\">{currentGift ? currentGift.advertising : \"\"}</p>\r\n                                <p className=\"card-text\"><small className=\"text-muted\">{`מחיר בחנויות ${currentGift ? currentGift.price : \"\"} ש\"ח`}</small></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport Login from '../login/Login';\r\n\r\nexport default function CreateApply() {\r\n\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: CreateApply.js ~ line 22 ~ onFinish ~ values\", values)\r\n        dispatch(actions.createApply({ ...values, user: user._id }));\r\n    };\r\n\r\n    return (\r\n        <div className='p-auto CreateApply'>\r\n            <h1>הגשת בקשה ליצירת קמפיין</h1>\r\n            {user ?\r\n                <Form\r\n                    wrapperCol={{\r\n                        span: 24,\r\n                    }}\r\n                    form={form}\r\n                    name=\"CreateApply\"\r\n                    onFinish={onFinish}\r\n                >\r\n                    {/* text */}\r\n                    <Form.Item\r\n                        name=\"text\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `פרט על הקמפיין שברצונך ליצור...`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input.TextArea placeholder={`פרט על הקמפיין שברצונך ליצור...`}/>\r\n                    </Form.Item>\r\n                    {/* submit */}\r\n                    <Form.Item className='submitFormItem'>\r\n                        <Button type=\"primary\" htmlType=\"submit\">send</Button>\r\n                    </Form.Item>\r\n                </Form> : <Login />}\r\n        </div >\r\n    );\r\n};","import React from 'react';\r\nimport ApplyCreateCampaign from '../general/CreateApply';\r\n// import \"animate.css\"\r\n// import Board from '../campaigns/Note';\r\n// import Note from '../campaigns/try';\r\n\r\nexport default function About() {\r\n\r\n    return (\r\n        <div className='About'>\r\n            \r\n            {/* <div className=\"aboutText\">\r\n                <p>\r\n                    מחפש קריאה מהירה באינטרנט? להלן תמצא את האתרים האהובים עלינו לקרוא עליהם סיפורים קצרים.\r\n                    אם אתה קורא את הפוסט הזה, רוב הסיכויים שגלשת דרך פייסבוק, טוויטר, Tumblr או Reddit במשך כחצי השעה האחרונה. סביר להניח שתרצה לעשות משהו פרודוקטיבי יותר עם הזמן שלך - תקרא ספר, למשל - אבל פשוט אין לך מספיק זמן בידיים כדי להתחייב לרומן בעל משקל של 400 עמודים.\r\n                    מקובל כרגע:\r\n                    ▸ דברים שכדאי לדעת לפני שאתה קונה Kindle Paperwhite 6.8 (דגם 2021)\r\n                    - 26 בספטמבר 2021\r\n                    ▸ הספרים הטובים ביותר ללא הגבלת קינדל לקריאה בשנת 2021 - לפי קטגוריה\r\n                    - 5 בספטמבר 2021\r\n                    אבל מה אם יש דרך אחרת?\r\n                    התשובה פשוטה: סיפורים קצרים. סיפורים קצרים שיכולים להתמכר, לשקוע ולספוג בדיוק כמו שרומן יכול - אך בזמן של נסיעה אחת בבוקר או אמבטיה מרגיעה.\r\n                    ויש הרבה מקומות למצוא קריאות מהירות באיכות גבוהה באינטרנט, לעתים קרובות בחינם. בחלק מהאתרים יש אפילו אפליקציות iOS לקריאה, מה שהופך את חווית הקריאה לקלה עוד יותר.\r\n                    גלול למטה כדי לגלות אילו אתרי סיפורים קצרים עשו את החיתוך.\r\n                    מדוע סיפורים קצרים הם קריאה מצוינת\r\n                    היות שאין מספיק זמן להתחייב לקריאת ספר כבד משקל היא אחת הסיבות העיקריות לכך שכל כך הרבה אנשים נופלים\r\n                    התשובה פשוטה: סיפורים קצרים. סיפורים קצרים שיכולים להתמכר, לשקוע ולספוג בדיוק כמו שרומן יכול - אך בזמן של נסיעה אחת בבוקר או אמבטיה מרגיעה.\r\n                    ויש הרבה מקומות למצוא קריאות מהירות באיכות גבוהה באינטרנט, לעתים קרובות בחינם. בחלק מהאתרים יש אפילו אפליקציות iOS לקריאה, מה שהופך את חווית הקריאה לקלה עוד יותר.\r\n                    גלול למטה כדי לגלות אילו אתרי סיפורים קצרים עשו את החיתוך.\r\n                    מדוע סיפורים קצרים הם קריאה מצוינת\r\n                    היות שאין מספיק זמן להתחייב לקריאת ספר כבד משקל היא אחת הסיבות העיקריות לכך שכל כך הרבה אנשים נופלים\r\n                </p>\r\n            </div> */}\r\n            <div>\r\n                {/* <Board /> */}\r\n                {/* <Note /> */}\r\n            </div>\r\n            {/* https://animate.style/ */}\r\n            {/* <h1 className=\"animate__animated animate__flipOutY\">An animated element</h1> */}\r\n            {/* <div className=\"bg\"></div>\r\n            <div className=\"bg bg2\"></div>\r\n            <div className=\"bg bg3\"></div>\r\n            <div className=\"content\"> */}\r\n            {/* <div id=\"bars1\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </div> */}\r\n            {/* <div className=\"wrapper\" >\r\n                    <div className=\"typing-demo\" >\r\n                        זה המקום לספר על האתר שלנו כמה הוא יפה ומשוכלל!!\r\n                    </div >\r\n                </div> */}\r\n            {/* </div> */}\r\n            {/* </div >\r\n                </div> */}\r\n            <ApplyCreateCampaign />\r\n          \r\n            <div className='d-flex justify-content-center'>\r\n                <svg className=\"blob1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 600 600\"><path d=\"M477.2 201.2C504.4 244.7 483.6 319.3 446.1 379 408.5 438.7 354.3 483.3 293.8 486.9 233.3 490.5 166.6 453 139.9 399.6 113.2 346.2 126.5 276.8 159.8 229.8 193.2 182.7 246.6 157.8 310.8 151.6 375.1 145.3 450.1 157.7 477.2 201.2Z\" fill=\"#FE840E\" /></svg>\r\n                <svg className=\"blob2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 600 600\"><path d=\"M449.5 177.2C485.4 225.8 500.5 287.5 483.9 334.8 467.4 382 419.3 414.9 370.7 433 322.1 451.1 273.1 454.4 221.4 438.8 169.8 423.3 115.5 388.9 103.6 343.1 91.8 297.3 122.4 240 162.2 190.6 202 141.2 251 99.6 303.9 96.5 356.8 93.4 413.6 128.7 449.5 177.2Z\" fill=\"#9b1fa3\" /></svg>\r\n            </div>\r\n\r\n            {/* </div> */}\r\n        </div >\r\n    )\r\n}","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function UserProfile(props) {\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const onFinish = (values) => {\r\n        console.log('Received values of form: ', values);\r\n        dispatch(actions.updateUser({ ...user, ...values }));\r\n        if (props.close)\r\n            props.close();\r\n    }\r\n\r\n    return (\r\n        <div className='UserProfile' style={{ textAlign: 'center' }}>\r\n            <Form onFinish={onFinish} initialValues={user}>\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    // rules={[{ required: true, message: 'הכנס מייל!' }]}\r\n                >\r\n                    <Input placeholder=\"מייל\" disabled={true}/>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"phone\"\r\n                    rules={[{ required: true, message: 'הכנס טלפון!' }]}\r\n                >\r\n                    <Input placeholder=\"טלפון\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"address\"\r\n                    rules={[{ required: true, message: 'הכנס כתובת!' }]}\r\n                >\r\n                    <Input placeholder=\"כתובת\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: 'הכנס שם!' }]}\r\n                >\r\n                    <Input placeholder=\"שם\" />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <div className='d-flex justify-content-between'>\r\n                        {props.close && <Button type=\"primary\" onClick={() => props.close()}>סגור</Button>}\r\n                        <Button type=\"primary\" htmlType=\"submit\">עדכן</Button>\r\n                        <Button type=\"primary\" onClick={()=>dispatch(actions.signOut())}>התנתק</Button>\r\n                    </div>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport UserProfile from '../campaigns/UserProfile';\r\nimport Login from '../login/Login';\r\n\r\nexport default function Personal() {\r\n\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    return (\r\n        <div className='Personal'>\r\n            {user ? <UserProfile /> : <Login />}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Spin, Empty } from 'antd';\r\nimport { numberWithCommas } from '../../services/service';\r\n\r\nexport default function CampaignDetails(props) {\r\n\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n    const [showSpin, setShowSpin] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setShowSpin(false)\r\n        }, 2000);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"CampaignDetails\">\r\n            {campaign ? <div className=\"row notSelected\">\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"card-body\">\r\n                        <h2 className=\"card-title\">{campaign.campaignName}</h2>\r\n                        <h1 className=\"card-text\">{numberWithCommas(campaign.goal)} ש\"ח</h1>\r\n                        <h4 className=\"card-text\">{campaign.purposeOfCollecting}</h4>\r\n                        <h5>{`הקמפיין יהיה פעיל מיום ${campaign.duration[0]} עד ${campaign.duration[1]}`}</h5>\r\n                        <label>{`קמפיין זה שייך לארגון ${campaign.company.companyName}`}</label>\r\n                        <p className=\"card-text\"><small className=\"text-muted\">{`ניתן ליצור קשר ב${campaign.company.phone} או ב ${campaign.company.email}`}</small></p>\r\n                        <Spin style={{ display: showSpin ? 'block' : 'none' }} />\r\n                        {campaign.company.logo ?\r\n                            <img style={{ width: '100%', height: '100%', objectFit: 'contain', display: showSpin ? 'none' : '' }} className=\"card-img\" src={campaign.company.logo} alt=\"logo\" /> :\r\n                            <div style={{ display: showSpin ? 'none' : '' }}  >no company logo</div>}\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <Spin style={{ display: showSpin ? 'block' : 'none' }} />\r\n                    {(campaign.images && campaign.images.length) ?\r\n                        // campaign.images.map(i =>\r\n                        //     <img key={i} style={{ width: '100%', height: '100%', objectFit: 'contain' }} className=\"card-img\" src={i} alt=\"...\" />) : 'no images!'}\r\n                        <img style={{ width: '100%', height: '100%', objectFit: 'contain', display: showSpin ? 'none' : '' }} className=\"card-img\" src={campaign.images[0]} alt=\"...\" /> :\r\n                        <div style={{ display: showSpin ? 'none' : '' }}  >no campaigns images</div>}\r\n                </div>\r\n            </div> : <Empty description='לא קיים מידע על קמפיין חדש ...' image={Empty.PRESENTED_IMAGE_SIMPLE} />}\r\n        </div >\r\n    );\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport { Table, Button, Spin, Tag, Tooltip, Avatar, } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function Applies() {\r\n\r\n    const dispatch = useDispatch();\r\n    const applies = useSelector(state => state.applyReducer.applies);\r\n\r\n    useEffect(() => {\r\n        if (!applies)\r\n            dispatch(actions.getApplies())\r\n    }, [])\r\n\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            dataIndex: '',\r\n            render: (text, apply) =>\r\n                !apply.status ?\r\n                    <Button onClick={() => dispatch(actions.confirmApply(apply._id))}>אשר!</Button> :\r\n                    <Tag color='green' className='notSelected pointer'>הסתיים</Tag>,\r\n            className: 'rtlColumn',\r\n            align: 'left',\r\n        },\r\n        {\r\n            title: 'תוכן',\r\n            dataIndex: 'text',\r\n            width: '80%',\r\n            align: 'right',\r\n            ellipsis: true,\r\n            className: 'rtlColumn'\r\n        },\r\n        {\r\n            title: 'משתמש',\r\n            dataIndex: 'user',\r\n            render: (user, apply) =>\r\n                <Tooltip className='pointer' title={user.name}>\r\n                    <Avatar>{user.name[0]}</Avatar>\r\n                </Tooltip>,\r\n            align: 'center',\r\n        },\r\n    ];\r\n    return (\r\n        <div className='Applies'>\r\n            <Spin size='large' spinning={!applies}>\r\n                <Table dataSource={applies} columns={columns}\r\n                    rowKey={apply => apply._id}\r\n                    pagination={{ position: ['bottomLeft', 'none'] }}\r\n                    style={{ direction: 'ltr' }} />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    DatePicker,\r\n    Select,\r\n    Spin,\r\n    Alert,\r\n    Tooltip,\r\n    Modal,\r\n} from 'antd';\r\nimport { PlusOutlined, DeleteTwoTone, MinusOutlined, UploadOutlined, } from '@ant-design/icons';\r\nimport { firebase } from '../../services/firebase.service';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport CampaignDetails from './CampaignDetails';\r\nimport '../../styles/createCampaign.css';\r\nimport moment from 'moment';\r\n\r\nfunction CreateCampaign() {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const general = useSelector(state => state.generalReducer);\r\n    const campaign = useSelector(state => state.campaignReducer.campaign);\r\n    const company = useSelector(state => state.companyReducer.company);\r\n    const allCompanies = useSelector(state => state.companyReducer.allCompanies);\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const [form] = Form.useForm();\r\n    const [logo, setLogo] = useState(null);\r\n    const [createCompany, setCreateCompany] = useState(false);\r\n    const [spining, setSpining] = useState(false);\r\n    const [uploadErr, setUploadErr] = useState(false);\r\n    const [logoURL, setLogoURL] = useState(null);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [imagesFiles, setImagesFiles] = useState([]);\r\n    const [imagesURLs, setImagesURLs] = useState([]);\r\n\r\n    const inputLogoRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        dispatch(actions.getAllGifts());\r\n        dispatch(actions.getAllCompanies());\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (general.campaignId) {\r\n            uploadImageToStorage(general.campaignId);\r\n        }\r\n    }, [general.campaignId])\r\n\r\n    useEffect(() => {\r\n        if (general.companyId) {\r\n            uploadLogoToStorage(general.companyId);\r\n        }\r\n    }, [general.companyId])\r\n\r\n    const uploadImage = (event) => {\r\n        setUploadErr(false);\r\n        let imgs = [...imagesURLs], files = [...imagesFiles], index = imagesURLs.length;\r\n        for (const [key, value] of Object.entries(event.target.files)) {\r\n            if (index === 5) {\r\n                setUploadErr(true);\r\n                break;\r\n            }\r\n            index++;\r\n            // display images in <img/>\r\n            imgs.push(URL.createObjectURL(value));\r\n            files.push(value);\r\n        }\r\n        setImagesURLs(imgs);\r\n        setImagesFiles(files)\r\n    }\r\n\r\n    const removeImage = (key) => {\r\n        setImagesFiles(imagesFiles.filter(file => file.name !== imagesFiles[key].name))\r\n        setImagesURLs(imagesURLs.filter(img => img !== imagesURLs[key]))\r\n    }\r\n\r\n    const removeAll = () => {\r\n        setImagesFiles([]);\r\n        setImagesURLs([]);\r\n    }\r\n\r\n    const onFinish = (values) => {\r\n        setSpining(true);\r\n        if (createCompany) {\r\n            dispatch(actions.createCompany(values))\r\n            setCreateCompany(false)\r\n        }\r\n        else {\r\n            const data = { ...values, images: imagesURLs, duration: [moment(values.duration[0].toString()).format(\"DD/MM/YYYY\"), moment(values.duration[1].toString()).format(\"DD/MM/YYYY\")], userId: user._id };\r\n            dispatch(actions.createCampaign(data));\r\n        }\r\n    }\r\n\r\n    const uploadImageToStorage = (campaignId) => {\r\n        if (!imagesURLs.length) {\r\n            // maybe move them to the end of the function;\r\n            dispatch(actions.setCampaignId(null));\r\n            setOpenModal(true);\r\n            return;\r\n        };\r\n        let imagePaths = [];\r\n        const storageRef = firebase.storage().ref();\r\n        imagesFiles.map(async img => {\r\n            let fileRef = storageRef.child(`Campaigns/${campaignId}/${img.name}`);\r\n            await fileRef.put(img);\r\n            const singleImgPath = await fileRef.getDownloadURL();\r\n            imagePaths.push(singleImgPath);\r\n            // the end :)\r\n            if (imagePaths.length === imagesFiles.length) {\r\n                const updateCampaign = { ...campaign, images: imagePaths, create: true}\r\n                dispatch(actions.updateCampaign(updateCampaign))\r\n                dispatch(actions.setCampaignId(null));\r\n                setOpenModal(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    const uploadLogoToStorage = async (companyId) => {\r\n        if (logo) {\r\n            const storageRef = firebase.storage().ref();\r\n            let fileRef = storageRef.child(`Companies/${companyId}/${Object.entries(logo)[0][1].name}`);\r\n            await fileRef.put(Object.entries(logo)[0][1]);\r\n            const logoImgPath = await fileRef.getDownloadURL();\r\n            // edit compny in server with the logo\r\n            const updateCompany = { ...company, logo: logoImgPath }\r\n            dispatch(actions.updateCompany(updateCompany));\r\n        }\r\n        else {\r\n            dispatch(actions.setCurrentNotification(`החברה נוצרה בהצלחה!`))\r\n        }\r\n        dispatch(actions.setCompanyId(null));\r\n        setLogo(null);\r\n        form.resetFields();\r\n        setLogo(null);\r\n        setLogoURL(null);\r\n        setSpining(false);\r\n    }\r\n\r\n    const closeCompaniesSelectDropdown = () => {\r\n        setCreateCompany(!createCompany);\r\n        if (!document.getElementsByClassName('companiesSelectDropdown')[0]) return;\r\n        let selectCls = document.getElementsByClassName('companiesSelectDropdown')[0].classList;\r\n        if (selectCls.length === 3) {\r\n            selectCls.add('ant-select-dropdown-hidden')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='CreateCampaign'>\r\n            <div className={`wrapForm mt-2`}>\r\n                <Spin size='large' spinning={spining}>\r\n                    <div className='createCampaignTxt'>מלא את הפרטים כדי ליצור את הקמפיין הבא...</div>\r\n                    <Form\r\n                        className='p-3 customForm'\r\n                        wrapperCol={{\r\n                            span: 24,\r\n                        }}\r\n                        form={form}\r\n                        name=\"createCampaign\"\r\n                        onFinish={onFinish}\r\n                    >\r\n                        {/* company */}\r\n                        <Form.Item\r\n                            name=\"company\"\r\n                            rules={createCompany ? [] : [\r\n                                {\r\n                                    required: true,\r\n                                    message: `אנא בחר חברה!`,\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'inline-block', width: 'calc(90% - 8px)' }}\r\n                        >\r\n                            <Select\r\n                                size='large'\r\n                                allowClear\r\n                                showSearch\r\n                                style={{ textAlign: 'right' }}\r\n                                dropdownStyle={{ textAlign: 'right' }}\r\n                                onChange={() => { setCreateCompany(false) }}\r\n                                notFoundContent={<>לא נמצאו נתונים</>}\r\n                                placeholder={`בחר חברה...`}\r\n                                virtual={false}\r\n                                dropdownClassName='companiesSelectDropdown'>\r\n                                {allCompanies && allCompanies.map(item => (\r\n                                    <Select.Option key={item._id}>{item.companyName}</Select.Option>\r\n                                ))}\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item style={{ display: 'inline-block', width: 'calc(10% - 8px)', margin: '0 8px' }}                    >\r\n                            <Tooltip title={createCompany ? `הסר חברה` : `הוסף חברה `}>\r\n                                <Button\r\n                                    type='default'\r\n                                    size='large'\r\n                                    className='d-flex justify-content-center align-items-center '\r\n                                    style={{ width: '100%' }}\r\n                                    onClick={closeCompaniesSelectDropdown}>\r\n                                    {createCompany ? <MinusOutlined /> : <PlusOutlined />}\r\n                                </Button>\r\n                            </Tooltip>\r\n                        </Form.Item>\r\n                        {createCompany ? <>\r\n                            <Form.Item\r\n                                name='companyName'\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: `אנא הכנס שם חברה!`,\r\n                                    },\r\n                                ]}\r\n                                style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\r\n                            >\r\n                                <Input\r\n                                    size='large'\r\n                                    placeholder={`הכנס כאן את שם החברה בו נערך הקמפיין...`} />\r\n                            </Form.Item>\r\n                            {/* managerCompanyName */}\r\n                            <Form.Item\r\n                                name='managerCompanyName'\r\n                                style={{ display: 'inline-block', width: 'calc(50% - 8px)', margin: '0 8px' }}\r\n                            >\r\n                                <Input\r\n                                    size='large'\r\n                                    placeholder={`הכנס כאן את שם המנהל של החברה בה נערך הקמפיין...`} />\r\n                            </Form.Item>\r\n                            {/* logo */}\r\n                            <Form.Item\r\n                                name='logo'\r\n                                style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                            >\r\n                                {logo ?\r\n                                    <div className='wrapperImgs'>\r\n                                        <DeleteTwoTone twoToneColor=\"#5ddf5d\" className='deleteImgIcon' title={`מחק לוגו`} onClick={() => setLogo(null)} />\r\n                                        <img alt='img' src={logoURL} style={{ width: '100%', height: '15vh', objectFit: 'contain' }} />\r\n                                    </div> :\r\n                                    <div className='btn d-flex justify-content-center uploadLogoDiv'>\r\n                                        <input type='file' accept='image/*' ref={inputLogoRef} className='uploadHiddenInput'\r\n                                            onChange={event => {\r\n                                                setLogo(inputLogoRef.current.files);\r\n                                                setLogoURL(URL.createObjectURL(event.target.files[0]))\r\n                                            }} />\r\n                                        <UploadOutlined className='plusIcon' />\r\n                                        <div>בחר לוגו לחברה</div>\r\n                                    </div>}\r\n                            </Form.Item>\r\n                            {/* phone */}\r\n                            <Form.Item\r\n                                name='phone'\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: `אנא הכנס טלפון חברה!`,\r\n                                    },\r\n                                ]}\r\n                                style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\r\n                            >\r\n                                <Input\r\n                                    size='large'\r\n                                    placeholder={`הכנס כאן מספר טלפון ליצירת קשר בחברה שלך...`}\r\n                                    className='formItemInput'\r\n                                />\r\n                            </Form.Item>\r\n                            {/* email */}\r\n                            <Form.Item\r\n                                name='email'\r\n                                rules={[\r\n                                    {\r\n                                        type: 'email',\r\n                                        message: `מייל לא תקין!`,\r\n                                    },\r\n                                    {\r\n                                        required: true,\r\n                                        message: `אנא הכנס מייל חברה!`,\r\n                                    },\r\n                                ]}\r\n                                style={{ display: 'inline-block', width: 'calc(50% - 8px)', margin: '0 8px' }}\r\n                            >\r\n                                <Input\r\n                                    size='large'\r\n                                    placeholder={`הכנס כאן כתובת מייל ליצירת קשר בחברה שלך...`} />\r\n                            </Form.Item>\r\n                        </> :\r\n                            <>\r\n                                {/* campaign */}\r\n                                {/* campaignName */}\r\n                                <Form.Item\r\n                                    name=\"campaignName\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: `אנא הכנס שם קמפיין!`,\r\n                                        },\r\n                                    ]}\r\n                                    style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\r\n                                >\r\n                                    <Input size='large'\r\n                                        placeholder={`הכנס כאן את השם לקמפיין שלך...`} />\r\n                                </Form.Item>\r\n                                {/* goal */}\r\n                                <Form.Item\r\n                                    name=\"goal\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: `אנא הכנס יעד לקמפיין!`,\r\n                                        },\r\n                                    ]}\r\n                                    style={{ display: 'inline-block', width: 'calc(50% - 8px)', margin: '0 8px' }}\r\n                                >\r\n                                    <Input size='large'\r\n                                        type='number' className='formItemInput' placeholder={`הכנס כאן את היעד לקמפיין שלך...`} />\r\n                                </Form.Item>\r\n                                {/* purposeOfCollecting */}\r\n                                <Form.Item\r\n                                    name=\"purposeOfCollecting\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: `הכנס מטרה לקמפיין!`,\r\n                                        },\r\n                                        {\r\n                                            max: 300,\r\n                                            message: `הכנס מטרה לקמפיין עד 300 תווים!`,\r\n                                        },\r\n                                        {\r\n                                            min: 50,\r\n                                            message: `הכנס מטרה לקמפיין מינימום 50 תווים!`,\r\n                                        },\r\n                                    ]}\r\n                                    style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                                >\r\n                                    <Input.TextArea size='large' rows={4} placeholder={`פרט כאן על המטרה של הקמפיין שלך...`} />\r\n                                </Form.Item>\r\n                                {/* duration */}\r\n                                <Form.Item\r\n                                    name=\"duration\"\r\n                                    rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: `בחר תאריך התחלה וסיום לקמפיין!`,\r\n                                        },\r\n                                    ]}\r\n                                    style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                                >\r\n                                    <DatePicker.RangePicker\r\n                                        format='DD/MM/YYYY'\r\n                                        placeholder={['תאריך התחלה', 'תאריך סיום']}\r\n                                        direction='rtl'\r\n                                        showNow={true}\r\n                                        size='large'\r\n                                        className='formItemInput' />\r\n                                </Form.Item>\r\n                                {/* images */}\r\n                                <Form.Item\r\n                                    name=\"images\"\r\n                                    style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                                // rules={[\r\n                                //     {\r\n                                //         required: uploadErr,\r\n                                //         message: `העלה מקסימום 5 תמונות!`,\r\n                                //     },\r\n                                // ]}\r\n                                >\r\n                                    {/* limit num og images to 5 */}\r\n                                    {imagesFiles.length < 5 &&\r\n                                        <div className='btn mb-2 d-flex justify-content-center uploadLogoDiv'>\r\n                                            <input type='file' accept='image/*' multiple={true}\r\n                                                onChange={e => uploadImage(e)} className='uploadHiddenInput' />\r\n                                            <UploadOutlined className='plusIcon' />\r\n                                            <div>בחר תמונות לקמפיין</div>\r\n                                        </div>}\r\n                                    <div className='d-flex align-items-center justify-content-around'>\r\n                                        {imagesURLs.length ? imagesURLs.map((i, key) => (\r\n                                            <div key={key} className='wrapperImgs' >\r\n                                                <DeleteTwoTone twoToneColor=\"#5ddf5d\" className='deleteImgIcon' title={`מחק תמונה`} onClick={() => removeImage(key)} />\r\n                                                <img alt='img' src={i} style={{ width: '100%', height: '20vh', objectFit: 'contain' }} />\r\n                                            </div>\r\n                                        )) : ''}\r\n                                    </div>\r\n                                    {imagesURLs.length ? <div onClick={removeAll}>מחק הכל</div> : ''}\r\n                                    {uploadErr && <Alert\r\n                                        style={{ width: 'calc(100% - 8px)', margin: '10px 0 0 8px' }}\r\n                                        message=\"העלה מקסימום 5 תמונות!\" type=\"error\" closable />}\r\n                                </Form.Item>\r\n                            </>}\r\n                        {/* submit */}\r\n                        <Form.Item\r\n                            style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                            className='submitFormItem'>\r\n                            <Button size='large' type=\"primary\" htmlType=\"submit\" className='btnSubmit'>\r\n                                {createCompany ? `יצירת חברה` : `יצירת קמפיין`}\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Spin>\r\n            </div >\r\n            <Modal footer={false} title='קמפיין חדש' visible={openModal} onCancel={() => { setOpenModal(false); setSpining(false); form.resetFields(); removeAll(); }} centered={true} width={1000}>\r\n                <CampaignDetails />\r\n            </Modal>\r\n        </div >\r\n    );\r\n};\r\n\r\n\r\nexport default withRouter(CreateCampaign);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    DatePicker,\r\n    Select,\r\n    Alert,\r\n    Spin,\r\n} from 'antd';\r\nimport { DeleteTwoTone, UploadOutlined, } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { firebase } from '../../services/firebase.service';\r\n\r\n\r\nexport default function UpdateCampaign() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n    const [form] = Form.useForm();\r\n    const [campaign, setCampaign] = useState(null);\r\n    const [spining, setSpining] = useState(false);\r\n    const [imagesFiles, setImagesFiles] = useState([]);\r\n    const [imagesURLs, setImagesURLs] = useState([]);\r\n    const [uploadErr, setUploadErr] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSpining(false)\r\n        if (currentNotification === 'הקמפיין התעדכן בהצלחה!' && campaign) {\r\n            form.resetFields();\r\n            setCampaign(null);\r\n            setImagesFiles([]);\r\n            setImagesURLs([]);\r\n        }\r\n    }, [currentNotification])\r\n\r\n\r\n    const onFinish = (values) => {\r\n        setSpining(true);\r\n        uploadImageToStorage(values);\r\n    };\r\n\r\n    const choose = (campaignId) => {\r\n        const campaignObj = allCampaigns.find(c => c._id === campaignId);\r\n        setCampaign(campaignObj)\r\n        if (!campaignObj) return\r\n        setImagesURLs(campaignObj.images)\r\n        setImagesFiles(campaignObj.images)\r\n        form.setFieldsValue({\r\n            ...campaignObj,\r\n            duration: [moment(campaignObj.duration[0], 'DD/MM/YYYY'), moment(campaignObj.duration[1], 'DD/MM/YYYY')]\r\n        });\r\n    }\r\n    const uploadImage = (event) => {\r\n        setUploadErr(false);\r\n        let imgs = [...imagesURLs], files = [...imagesFiles], index = imagesURLs.length;\r\n        for (const [key, value] of Object.entries(event.target.files)) {\r\n            if (index === 5) {\r\n                setUploadErr(true);\r\n                break;\r\n            }\r\n            index++;\r\n            // display images in <img/>\r\n            imgs.push(URL.createObjectURL(value));\r\n            files.push(value);\r\n        }\r\n        setImagesURLs(imgs);\r\n        setImagesFiles(files)\r\n    }\r\n\r\n    const removeImage = (key) => {\r\n        if (!imagesFiles[key].name)\r\n            setImagesFiles(imagesFiles.filter(file => file !== imagesFiles[key]))\r\n        else\r\n            setImagesFiles(imagesFiles.filter(file => file.name !== imagesFiles[key].name))\r\n        setImagesURLs(imagesURLs.filter(img => img !== imagesURLs[key]))\r\n    }\r\n\r\n    const removeAll = () => {\r\n        setImagesFiles([]);\r\n        setImagesURLs([]);\r\n    }\r\n\r\n    const deleteFilesFromFirebase = async (images) => {\r\n        let fileRef;\r\n        for (let index = 0; index < images.length; index++) {\r\n            fileRef = await firebase.storage().refFromURL(images[index]);\r\n            fileRef.delete().then(function () {\r\n                console.log(\"File Deleted\")\r\n            }).catch(function (error) {\r\n            });\r\n        }\r\n    }\r\n    const uploadImageToStorage = async (values) => {\r\n        let imagePaths = [];\r\n        if (!imagesURLs.length && campaign.images.length) {\r\n            // delete images from folder in firebase\r\n            await deleteFilesFromFirebase(campaign.images);\r\n            // updtae in server\r\n            dispatch(actions.updateCampaign({ ...campaign, ...values, duration: [moment(values.duration[0].toString()).format(\"DD/MM/YYYY\"), moment(values.duration[1].toString()).format(\"DD/MM/YYYY\")], images: [] }));\r\n            return;\r\n        };\r\n\r\n        let toDeleteArray = [], toUploadArray = []\r\n        for (let index = 0; index < campaign.images.length; index++) {\r\n            if (imagesURLs.includes(campaign.images[index])) {\r\n                imagePaths.push(campaign.images[index]);\r\n            }\r\n            else {\r\n                toDeleteArray.push(campaign.images[index]);\r\n            }\r\n        }\r\n        for (let index = 0; index < imagesURLs.length; index++) {\r\n            if (!campaign.images.includes(imagesURLs[index])) {\r\n                toUploadArray.push(imagesFiles[index]);\r\n            }\r\n        }\r\n        // delete from firebase what deleted here\r\n        await deleteFilesFromFirebase(toDeleteArray);\r\n        if (!toUploadArray.length) {\r\n            const updateCampaign = { ...campaign, ...values, duration: [moment(values.duration[0].toString()).format(\"DD/MM/YYYY\"), moment(values.duration[1].toString()).format(\"DD/MM/YYYY\")], images: imagePaths }\r\n            dispatch(actions.updateCampaign(updateCampaign));\r\n            // setSpining(false);\r\n        }\r\n        // upload the news\r\n        const storageRef = firebase.storage().ref();\r\n        toUploadArray.map(async img => {\r\n            let fileRef = storageRef.child(`Campaigns/${campaign._id}/${img.name}`);\r\n            await fileRef.put(img);\r\n            const singleImgPath = await fileRef.getDownloadURL();\r\n            imagePaths.push(singleImgPath);\r\n            // the end :)\r\n            if (imagePaths.length === imagesFiles.length) {\r\n                const updateCampaign = { ...campaign, ...values, duration: [moment(values.duration[0].toString()).format(\"DD/MM/YYYY\"), moment(values.duration[1].toString()).format(\"DD/MM/YYYY\")], images: imagePaths }\r\n                dispatch(actions.updateCampaign(updateCampaign));\r\n                // setSpining(false);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='UpdateCampaign'>\r\n            <Spin size='large' spinning={spining}>\r\n                <div>\r\n                    <Select\r\n                        size='large'\r\n                        allowClear\r\n                        showSearch\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        onChange={choose}\r\n                        onClear={()=>{form.resetFields();removeAll()}}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`}\r\n                        virtual={false}\r\n                        dropdownClassName='companiesSelectDropdown'>\r\n                        {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                            !item.goalRaised && <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        ))) : (user.campaigns && user.campaigns.map(item => (\r\n                            !item.goalRaised && <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        )))}\r\n                    </Select>\r\n                    <Form\r\n                        className='p-3 customForm'\r\n                        wrapperCol={{\r\n                            span: 24,\r\n                        }}\r\n                        form={form}\r\n                        name=\"campaign\"\r\n                        onFinish={onFinish}\r\n                    >\r\n                        {/* campaignName */}\r\n                        <Form.Item\r\n                            name=\"campaignName\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: `אנא הכנס שם קמפיין!`,\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\r\n                        >\r\n                            <Input size='large'\r\n                                placeholder={`הכנס כאן את השם לקמפיין שלך...`} />\r\n                        </Form.Item>\r\n                        {/* goal */}\r\n                        <Form.Item\r\n                            name=\"goal\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: `אנא הכנס יעד לקמפיין!`,\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'inline-block', width: 'calc(50% - 8px)', margin: '0 8px' }}\r\n                        >\r\n                            <Input size='large'\r\n                                type='number' className='formItemInput' placeholder={`הכנס כאן את היעד לקמפיין שלך...`} />\r\n                        </Form.Item>\r\n                        {/* purposeOfCollecting */}\r\n                        <Form.Item\r\n                            name=\"purposeOfCollecting\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: `הכנס מטרה לקמפיין!`,\r\n                                },\r\n                                {\r\n                                    max: 300,\r\n                                    message: `הכנס מטרה לקמפיין עד 300 תווים!`,\r\n                                },\r\n                                {\r\n                                    min: 50,\r\n                                    message: `הכנס מטרה לקמפיין מינימום 50 תווים!`,\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}                                >\r\n                            <Input.TextArea size='large' rows={4} placeholder={`פרט כאן על המטרה של הקמפיין שלך...`} />\r\n                        </Form.Item>\r\n                        {/* duration */}\r\n                        <Form.Item\r\n                            name=\"duration\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: `בחר תאריך התחלה וסיום לקמפיין!`,\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                        >\r\n                            <DatePicker.RangePicker\r\n                                format='DD/MM/YYYY'\r\n                                placeholder={['תאריך התחלה', 'תאריך סיום']}\r\n                                direction='rtl'\r\n                                showNow={true}\r\n                                size='large'\r\n                                className='formItemInput' />\r\n                        </Form.Item>\r\n                        {/* images */}\r\n                        <Form.Item\r\n                            name=\"images\"\r\n                            style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                        // rules={[\r\n                        //     {\r\n                        //         required: uploadErr,\r\n                        //         message: `העלה מקסימום 5 תמונות!`,\r\n                        //     },\r\n                        // ]}\r\n                        >\r\n                            {/* limit num og images to 5 */}\r\n                            {imagesFiles.length < 5 &&\r\n                                <div className='btn mb-2 d-flex justify-content-center uploadLogoDiv'>\r\n                                    <input type='file' accept='image/*' multiple={true}\r\n                                        onChange={e => uploadImage(e)} className='uploadHiddenInput' />\r\n                                    <UploadOutlined className='plusIcon' />\r\n                                    <div>בחר תמונות לקמפיין</div>\r\n                                </div>}\r\n                            <div className='d-flex align-items-center justify-content-around'>\r\n                                {imagesURLs.length ? imagesURLs.map((i, key) => (\r\n                                    <div key={key} className='wrapperImgs' >\r\n                                        <DeleteTwoTone twoToneColor=\"#5ddf5d\" className='deleteImgIcon' title={`מחק תמונה`} onClick={() => removeImage(key)} />\r\n                                        <img alt='img' src={i} style={{ width: '100%', height: '20vh', objectFit: 'contain' }} />\r\n                                    </div>\r\n                                )) : ''}\r\n                            </div>\r\n                            {imagesURLs.length ? <div onClick={removeAll}>מחק הכל</div> : ''}\r\n                            {uploadErr && <Alert\r\n                                style={{ width: 'calc(100% - 8px)', margin: '10px 0 0 8px' }}\r\n                                message=\"העלה מקסימום 5 תמונות!\" type=\"error\" closable />}\r\n                        </Form.Item>\r\n                        {/* submit */}\r\n                        <Form.Item\r\n                            style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                            className='submitFormItem'>\r\n                            <Button size='large' type=\"primary\" htmlType=\"submit\" className='btnSubmit'>\r\n                                SAVE                    </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Table, Button, Spin, Popconfirm } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\n\r\nexport default function DeleteCampaigns() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n\r\n    const [campaigns, setCampaigns] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns & admin)\r\n            dispatch(actions.getAllCampaigns())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (admin && allCampaigns) {\r\n            setCampaigns(allCampaigns.filter(c => !c.goalRaised))\r\n        }\r\n    }, [allCampaigns]);\r\n\r\n    useEffect(() => {\r\n        setCampaigns(user.campaigns.filter(c => !c.goalRaised))\r\n    }, [user]);\r\n    const deleteFilesFromFirebase = async (images) => {\r\n        let fileRef;\r\n        for (let index = 0; index < images.length; index++) {\r\n            fileRef = await firebase.storage().refFromURL(images[index]);\r\n            fileRef.delete().then(function () {\r\n                console.log(\"File Deleted\")\r\n            }).catch(function (error) {\r\n                console.log(\"🚀 ~ file: DeleteCampaigns.js ~ err with delete img of campaign ~ error\", error)\r\n            });\r\n        }\r\n    }\r\n    const confirm = async (campaignId) => {\r\n        console.log(\"🚀 ~ file: DeleteCampaigns.js ~ line 19 ~ confirm ~ campaignId\", campaignId)\r\n        let campaign;\r\n        if (admin)\r\n            campaign = allCampaigns.find(c => c._id === campaignId);\r\n        else\r\n            campaign = user.campaigns.find(c => c._id === campaignId);\r\n        // delete images from firebase\r\n        deleteFilesFromFirebase(campaign.images);\r\n        // delete campaigns from server\r\n        dispatch(actions.deleteCampaign({ campaignId, userId: user._id }));\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            dataIndex: '',\r\n            render: (campaign) =>\r\n                <Popconfirm\r\n                    title=\"האם אתה בטוח שאתה רוצה למחוק?\"\r\n                    onConfirm={() => confirm(campaign._id)}\r\n                    okText=\"כן\"\r\n                    cancelText=\"לא\"\r\n                    style={{ direction: 'ltr' }}\r\n                    icon={null}\r\n                >\r\n                    <Button >מחק!</Button>\r\n                </Popconfirm>,\r\n            className: 'rtlColumn',\r\n            align: 'left',\r\n        }, {\r\n            title: 'תאריך',\r\n            dataIndex: 'duration',\r\n            render: (text) => <div>{`${text[0]}-${text[1]}`}</div>,\r\n            align: 'right',\r\n        }, {\r\n            title: 'יעד',\r\n            dataIndex: 'goal',\r\n            render: (text) => <div>{text} ש\"ח</div>,\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        }, {\r\n            title: 'מטרה',\r\n            dataIndex: 'purposeOfCollecting',\r\n            ellipsis: true,\r\n            align: 'right',\r\n            width: '35%',\r\n            className: 'rtlColumn'\r\n        }, {\r\n            title: 'חברה',\r\n            dataIndex: 'company',\r\n            render: (text) => (text.companyName),\r\n            align: 'right',\r\n        }, {\r\n            title: 'שם',\r\n            dataIndex: 'campaignName',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        },\r\n\r\n\r\n    ];\r\n    return (\r\n        <div className='DeleteCampaigns'>\r\n            <h6>כאן מוצגים רק הקמפיינים שעוד לא תרמו להם</h6>\r\n            <Spin size='large' spinning={!campaigns}>\r\n                <Table dataSource={campaigns} columns={columns}\r\n                    rowKey={campaign => campaign._id}\r\n                    pagination={{ position: ['bottomLeft', 'none'] }}\r\n                    style={{ direction: 'ltr' }} />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport CreateCampaign from './CreateCampaign';\r\nimport UpdateCampaign from './UpdateCampaign';\r\nimport DeleteCampaigns from './DeleteCampaigns';\r\n\r\nexport default function CampaignsManagment() {\r\n\r\n    const [action,setAction]=useState(null);\r\n    \r\n    return (\r\n        <div className='CampaignsManagment'>\r\n            <h1>מה ברצונך לעשות?</h1>\r\n            <Button onClick={()=>setAction('create')}>יצירה</Button>\r\n            <Button onClick={()=>setAction('update')}>עריכה</Button>\r\n            <Button onClick={()=>setAction('delete')}>מחיקה</Button>\r\n            {action==='create'&&<CreateCampaign/>}\r\n            {action==='update'&&<UpdateCampaign/>}\r\n            {action==='delete'&&<DeleteCampaigns/>}\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function CreateCard() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const allGifts = useSelector(state => state.giftReducer.allGifts);\r\n    const general = useSelector(state => state.generalReducer);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns)\r\n            dispatch(actions.getAllCampaigns());\r\n        if (!allGifts)\r\n            dispatch(actions.getAllGifts());\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        if (general.currentNotification === 'הכרטיס התווסף בהצלחה!') {\r\n            form.resetFields();\r\n        }\r\n    }, [general.currentNotification])\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: CreateCard.js ~ line 20 ~ onFinish ~ values\", values);\r\n        // const giftId = allGifts.find(g => g.name === values.gift)._id;\r\n        dispatch(actions.createCard({ card: values, campaignId: values.campaign }));\r\n    };\r\n\r\n    return (\r\n        <div className='p-auto CreateCard'>\r\n            <h1>יצירת כרטיס</h1>\r\n            <Form\r\n                labelCol={{\r\n                    span: 4,\r\n                }}\r\n                wrapperCol={{\r\n                    span: 20,\r\n                }}\r\n                form={form}\r\n                name=\"CreateCard\"\r\n                onFinish={onFinish}\r\n            >\r\n                {/* campaign */}\r\n                <Form.Item\r\n                    name=\"campaign\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר קמפיין!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        // options={allCampaigns && allCampaigns.map(campaign => {\r\n                        //     return { value: campaign.campaignName, label: campaign.campaignName }\r\n                        // })}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`} >\r\n                        {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        ))) : (user.campaigns && user.campaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        )))}\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* gift */}\r\n                <Form.Item\r\n                    name=\"gift\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר מתנה!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        // options={allGifts && allGifts.map(gift => {\r\n                        //     return { value: gift.name, label: gift.name }\r\n                        // })}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר מתנה...`} >\r\n                        {allGifts && allGifts.map(gift => (\r\n                            <Select.Option key={gift._id}>{gift.name}</Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* sum */}\r\n                <Form.Item\r\n                    name=\"sum\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `הכנס סכום תרומה!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input type='number' placeholder={`הכנס כאן את סכום התרומה...`} />\r\n                </Form.Item>\r\n                {/* text */}\r\n                <Form.Item\r\n                    name=\"text\"\r\n                >\r\n                    <Input placeholder={`הכנס כאן את שם הכרטיס...`} />\r\n                </Form.Item>\r\n                {/* submit */}\r\n                <Form.Item className='submitFormItem'>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        יצירת כרטיס\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n    Spin,\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function UpdateCard() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const allGifts = useSelector(state => state.giftReducer.allGifts);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const [cards, setCards] = useState(null);\r\n    const [spining, setSpining] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns)\r\n            dispatch(actions.getAllCampaigns());\r\n        if (!allGifts)\r\n            dispatch(actions.getAllGifts());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setSpining(false)\r\n        if (currentNotification === 'הכרטיס התעדכן בהצלחה!' && cards) {\r\n            form.resetFields();\r\n            setCards(null);\r\n        }\r\n    }, [currentNotification])\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: UpdateCard.js ~ line 30 ~ onFinish ~ values\", values);\r\n        const giftId = allGifts.find(gift => gift.name === values.gift)._id;\r\n        dispatch(actions.updateCard({ ...values, _id: values.card,gift:giftId,uid:user.uid }))\r\n        setSpining(true)\r\n    };\r\n    const chooseCampaign = (campaignId) => {\r\n        const cardsObj = allCampaigns.find(c => c._id === campaignId).cards;\r\n        console.log(\"🚀 ~ file: UpdateCard.js ~ line 36 ~ choose ~ cardsObj\", cardsObj)\r\n        setCards(cardsObj)\r\n    }\r\n\r\n    const chooseCard = (cardId) => {\r\n        const cardObj = cards.find(c => c._id === cardId);\r\n        form.setFieldsValue({ ...cardObj, gift: cardObj.gift.name });\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='p-auto UpdateCard'>\r\n            <h1>עריכת כרטיס</h1>\r\n            <Spin size='large' spinning={spining}>\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 20,\r\n                }}\r\n                form={form}\r\n                name=\"updateCard\"\r\n                onFinish={onFinish}\r\n            >\r\n                {/* campaign */}\r\n                <Form.Item\r\n                    name=\"campaign\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר קמפיין!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        onChange={chooseCampaign}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`} >\r\n                        {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        ))) : (user.campaigns && user.campaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        )))}\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* card */}\r\n                <Form.Item\r\n                    name=\"card\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר כרטיס!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        // options={cards && cards.map(card => {\r\n                        //     return { value: card.text, label: card.text }\r\n                        // })}\r\n                        onChange={chooseCard}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו כרטיסים או שכולם בשימוש</>}\r\n                        placeholder={`בחר כרטיס...`} >\r\n                        {cards && cards.length && cards.map(item => (\r\n                           !item.used&& <Select.Option key={item._id}>{item.text}</Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* gift */}\r\n                <Form.Item\r\n                    name=\"gift\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר מתנה!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר מתנה...`} >\r\n                        {allGifts && allGifts.length && allGifts.map(gift => (\r\n                            <Select.Option key={gift.name}>{gift.name}</Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* sum */}\r\n                <Form.Item\r\n                    name=\"sum\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `הכנס סכום תרומה!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input type='number' placeholder={`הכנס כאן את סכום התרומה...`} />\r\n                </Form.Item>\r\n                {/* text */}\r\n                <Form.Item name=\"text\">\r\n                    <Input placeholder={`הכנס כאן את שם הכרטיס...`} />\r\n                </Form.Item>\r\n                {/* submit */}\r\n                <Form.Item className='submitFormItem'>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        עריכת כרטיס\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n            </Spin>\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Table, Button, Spin, Popconfirm, Form, Select, } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\nimport moment from 'moment';\r\n\r\nexport default function DeleteCards() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const [cards, setCards] = useState();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns & admin)\r\n            dispatch(actions.getAllCampaigns())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if (allCampaigns&&form.getFieldValue('campaign')) {\r\n            const campaign = allCampaigns.find(c => c._id === form.getFieldValue('campaign'));\r\n            setCards(campaign.cards.filter(c => !c.used));\r\n        }\r\n    }, [allCampaigns])\r\n\r\n\r\n    const choose = (campaignId) => {\r\n        const campaign = allCampaigns.find(c => c._id === campaignId);\r\n        console.log(\"🚀 ~ file: DeleteCards.js ~ line 41 ~ choose ~ campaign\", campaign)\r\n        setCards(campaign.cards.filter(c => !c.used));\r\n    }\r\n    const confirm = async (cardId) => {\r\n        console.log(\"🚀 ~ file: DeleteCards.js ~ line 45 ~ confirm ~ cardId\", cardId)\r\n        const card = cards.find(c => c._id === cardId);\r\n        // delete card from server\r\n        dispatch(actions.deleteCard(card));\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            dataIndex: '',\r\n            render: (card) =>\r\n                <Popconfirm\r\n                    title=\"האם אתה בטוח שאתה רוצה למחוק?\"\r\n                    onConfirm={() => confirm(card._id)}\r\n                    okText=\"כן\"\r\n                    cancelText=\"לא\"\r\n                    style={{ direction: 'ltr' }}\r\n                    icon={null}\r\n                >\r\n                    <Button >מחק!</Button>\r\n                </Popconfirm>,\r\n            className: 'rtlColumn',\r\n            align: 'left',\r\n        }, {\r\n            title: 'שם מתנה',\r\n            dataIndex: 'gift',\r\n            render: (text) => (text.name),\r\n            align: 'right',\r\n        }, {\r\n            title: 'מחיר',\r\n            dataIndex: 'sum',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        }, {\r\n            title: 'טקסט',\r\n            dataIndex: 'text',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        },\r\n\r\n\r\n    ];\r\n    return (\r\n        <div className='DeleteCards'>\r\n            <h6>כאן מוצגים רק הכרטיסים שעוד לא השתמשו בהם</h6>\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 20,\r\n                }}\r\n                form={form}>\r\n                {/* campaign */}\r\n                <Form.Item\r\n                    name=\"campaign\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר קמפיין!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        onChange={choose}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`} >\r\n                        {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        ))) : (user.campaigns && user.campaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        )))}\r\n                    </Select>\r\n                </Form.Item>\r\n            </Form>\r\n            <Spin size='large' spinning={!cards}>\r\n                <Table dataSource={cards} columns={columns}\r\n                    rowKey={campaign => campaign._id}\r\n                    pagination={{ position: ['bottomLeft', 'none'] }}\r\n                    style={{ direction: 'ltr' }} />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport CreateCard from './CreateCard';\r\nimport UpdateCard from './UpdateCard';\r\nimport DeleteCards from './DeleteCards';\r\n\r\nexport default function CardsManagment() {\r\n    \r\n    const [action, setAction] = useState(null);\r\n\r\n    return (\r\n        <div className='CardsManagment'>\r\n            <h1>מה ברצונך לעשות?</h1>\r\n            <Button onClick={() => setAction('create')}>יצירה</Button>\r\n            <Button onClick={() => setAction('update')}>עריכה</Button>\r\n            <Button onClick={() => setAction('delete')}>מחיקה</Button>\r\n            {action === 'create' && <CreateCard />}\r\n            {action === 'update' && <UpdateCard/>}\r\n            {action === 'delete' && <DeleteCards/>}\r\n        </div>\r\n    )\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Checkbox,\r\n    Spin,\r\n} from 'antd';\r\nimport { firebase } from '../../services/firebase.service';\r\nimport { DeleteTwoTone, UploadOutlined, } from '@ant-design/icons';\r\n\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function CreateGift() {\r\n\r\n    const dispatch = useDispatch();\r\n    const general = useSelector(state => state.generalReducer);\r\n    const gift = useSelector(state => state.giftReducer.gift);\r\n\r\n    const [form] = Form.useForm();\r\n    const [image, setImage] = useState(null);\r\n    const [imageURL, setImageURL] = useState(null);\r\n    const [coupon, setCoupon] = useState(false);\r\n    const [spining, setSpining] = useState(false);\r\n\r\n    const inputImageRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (general.giftId) {\r\n            uploadImageToStorage(general.giftId)\r\n        }\r\n    }, [general.giftId]);\r\n\r\n    useEffect(() => {\r\n        setSpining(false)\r\n        if (general.currentNotification === 'המתנה התווספה בהצלחה!') {\r\n            setImage(null);\r\n            setCoupon(false);\r\n            form.resetFields();\r\n        }\r\n    }, [general.currentNotification]);\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: CreateGift.js ~ line 20 ~ onFinish ~ values\", values);\r\n        setSpining(true);\r\n        dispatch(actions.createGift(values));\r\n    };\r\n    const uploadImageToStorage = async (giftId) => {\r\n        if (!image) {\r\n            dispatch(actions.setCurrentNotification('המתנה התווספה בהצלחה'))\r\n        }\r\n        else {\r\n            const storageRef = firebase.storage().ref();\r\n            let fileRef = storageRef.child(`Gifts/${Object.entries(image)[0][1].name}`);\r\n            await fileRef.put(Object.entries(image)[0][1]);\r\n            const imageImgPath = await fileRef.getDownloadURL();\r\n            // edit gift in server with the image\r\n            const updateGift = { ...gift, image: imageImgPath, create: true }\r\n            dispatch(actions.updateGift(updateGift));\r\n            dispatch(actions.setGiftId(null));\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='p-auto CreateGift'>\r\n            <h1>יצירת מתנה</h1>\r\n            <Spin size='large' spinning={spining}>\r\n                <Form\r\n                    labelCol={{\r\n                        span: 4,\r\n                    }}\r\n                    wrapperCol={{\r\n                        span: 20,\r\n                    }}\r\n                    form={form}\r\n                    name=\"CreateGift\"\r\n                    onFinish={onFinish}\r\n                >\r\n                    {/* name */}\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `הכנס שם למתנה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder={`הכנס כאן את שם המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* advertising */}\r\n                    <Form.Item\r\n                        name=\"advertising\"\r\n                        rules={[\r\n                            {\r\n                                max: 50,\r\n                                message: `הכנס תאור למתנה עד 50 תווים!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder={`הכנס כאן את תאור המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* image */}\r\n                    <Form.Item\r\n                        name='image'\r\n                        style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}\r\n                    >\r\n                        {image ?\r\n                            <div className='wrapperImgs'>\r\n                                <DeleteTwoTone twoToneColor=\"#5ddf5d\" className='deleteImgIcon' title={`מחק לוגו`} onClick={() => setImage(null)} />\r\n                                <img alt='img' src={imageURL} style={{ width: '100%', height: '15vh', objectFit: 'contain' }} />\r\n                            </div> :\r\n                            <div className='btn d-flex justify-content-center uploadLogoDiv'>\r\n                                <input type='file' accept='image/*' ref={inputImageRef} className='uploadHiddenInput'\r\n                                    onChange={event => {\r\n                                        setImage(inputImageRef.current.files);\r\n                                        setImageURL(URL.createObjectURL(event.target.files[0]))\r\n                                    }} />\r\n                                <UploadOutlined className='plusIcon' />\r\n                                <div>בחר תמונה</div>\r\n                            </div>}\r\n                    </Form.Item>\r\n                    {/* price */}\r\n                    <Form.Item\r\n                        name=\"price\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `הכנס מחיר למתנה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input type='number' placeholder={`הכנס כאן את מחיר המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* amount */}\r\n                    <Form.Item\r\n                        name=\"amount\"\r\n                    >\r\n                        <Input type='number' placeholder={`הכנס כאן את כמות המתנה...`} />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Checkbox checked={coupon} onChange={() => setCoupon(!coupon)}>שובר</Checkbox>\r\n                    </Form.Item>\r\n                    {coupon &&\r\n                        <Form.Item\r\n                            name='from'\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: `הכנס מייל!`,\r\n                                },\r\n                                {\r\n                                    type: 'email',\r\n                                    message: `הכנס מייל!`,\r\n                                },\r\n                            ]}>\r\n                            <Input placeholder='הכנס מייל אליו ישלחו פרטי מקבלי השוברים' />\r\n                        </Form.Item>}\r\n                    {/* submit */}\r\n                    <Form.Item className='submitFormItem'>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            יצירת מתנה\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n    Spin,\r\n} from 'antd';\r\nimport { DeleteTwoTone, UploadOutlined, } from '@ant-design/icons';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\n\r\nexport default function UpdateGift() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allGifts = useSelector(state => state.giftReducer.allGifts);\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n    const [form] = Form.useForm();\r\n    const [imageFile, setImageFile] = useState();\r\n    const [imageURL, setImageURL] = useState();\r\n    const [gifts, setGifts] = useState();\r\n    const [spining, setSpining] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSpining(false)\r\n        if (currentNotification === 'המתנה התעדכנה בהצלחה!') {\r\n            form.resetFields();\r\n            removeImage();\r\n        }\r\n    }, [currentNotification]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!allGifts)\r\n            dispatch(actions.getAllGifts());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (allGifts)\r\n            setGifts(allGifts.filter(g => !g.used));\r\n    }, [allGifts]);\r\n\r\n\r\n    const onFinish = async (values) => {\r\n        setSpining(true);\r\n        if (imageFile && imageFile[0].name) {\r\n            // upload\r\n            const storageRef = firebase.storage().ref();\r\n            let fileRef = storageRef.child(`Gifts/${imageFile[0].name}`);\r\n            await fileRef.put(imageFile[0]);\r\n            const imageImgPath = await fileRef.getDownloadURL();\r\n            dispatch(actions.updateGift({ ...values, image: imageImgPath }))\r\n            return\r\n        }\r\n        if (!imageFile && values.image) {\r\n            const fileRef = await firebase.storage().refFromURL(values.image);\r\n            await fileRef.delete().then(function () {\r\n                console.log(\"File Deleted\")\r\n            }).catch(function (error) {\r\n                console.log(\"🚀 ~ file: UpdateGift.js ~ line 42 ~ error\", error)\r\n                dispatch(actions.setCurrentNotification('ארעה שגיאה בעדכון המתנה!'))\r\n            });\r\n            dispatch(actions.updateGift({ ...values, image: null }));\r\n            return;\r\n        }\r\n        dispatch(actions.updateGift(values));\r\n    };\r\n    const choose = (giftId) => {\r\n        const gift = allGifts.find(gift => gift._id === giftId);\r\n        form.setFieldsValue(gift);\r\n        setImageURL(gift.image);\r\n        setImageFile(gift.image);\r\n    }\r\n    const uploadImage = (event) => {\r\n        setImageFile(event.target.files);\r\n        setImageURL(URL.createObjectURL(event.target.files[0]))\r\n    }\r\n    const removeImage = (key) => {\r\n        if (imageFile) {\r\n            setImageFile(null)\r\n        }\r\n        setImageURL(null);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='p-auto UpdateGift'>\r\n            <h1>עריכת מתנה</h1>\r\n            <Spin size='large' spinning={spining}>\r\n                <Form\r\n                    labelCol={{\r\n                        span: 4,\r\n                    }}\r\n                    wrapperCol={{\r\n                        span: 20,\r\n                    }}\r\n                    form={form}\r\n                    name=\"UpdateGift\"\r\n                    onFinish={onFinish}\r\n                >\r\n                    {/* gift */}\r\n                    <Form.Item\r\n                        name=\"_id\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `אנא בחר מתנה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Select\r\n                            allowClear\r\n                            showSearch\r\n                            onChange={choose}\r\n                            style={{ textAlign: 'right' }}\r\n                            dropdownStyle={{ textAlign: 'right' }}\r\n                            notFoundContent={<>לא נמצאו מתנות</>}\r\n                            placeholder={`בחר מתנה...`} >\r\n                            {gifts && gifts.map(gift => {\r\n                                return (<Select.Option key={gift._id}>{gift.name}</Select.Option>)\r\n                            })}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    {/* name */}\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `הכנס שם למתנה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder={`הכנס כאן את שם המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* advertising */}\r\n                    <Form.Item\r\n                        name=\"advertising\"\r\n                        rules={[\r\n                            {\r\n                                max: 50,\r\n                                message: `הכנס תאור למתנה עד 50 תווים!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder={`הכנס כאן את תאור המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* image */}\r\n                    <Form.Item\r\n                        name=\"image\"\r\n                        style={{ display: 'inline-block', width: 'calc(100% - 8px)', marginLeft: '8px' }}>\r\n                        {!imageFile &&\r\n                            <div className='btn mb-2 d-flex justify-content-center uploadLogoDiv'>\r\n                                <input type='file' accept='image/*'\r\n                                    onChange={e => uploadImage(e)} className='uploadHiddenInput' />\r\n                                <UploadOutlined className='plusIcon' />\r\n                                <div>בחר תמונות לקמפיין</div>\r\n                            </div>}\r\n                        <div className='d-flex align-items-center justify-content-around'>\r\n                            {imageURL && <div className='wrapperImgs' >\r\n                                <DeleteTwoTone twoToneColor=\"#5ddf5d\" className='deleteImgIcon' title={`מחק תמונה`} onClick={removeImage} />\r\n                                <img alt='img' src={imageURL} style={{ width: '100%', height: '20vh', objectFit: 'contain' }} />\r\n                            </div>}\r\n                        </div>\r\n                    </Form.Item>\r\n                    {/* price */}\r\n                    <Form.Item\r\n                        name=\"price\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `הכנס מחיר למתנה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input type='number' placeholder={`הכנס כאן את מחיר המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* amount */}\r\n                    <Form.Item name=\"amount\">\r\n                        <Input type='number' placeholder={`הכנס כאן את כמות המתנה...`} />\r\n                    </Form.Item>\r\n                    {/* submit */}\r\n                    <Form.Item className='submitFormItem'>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            עריכת מתנה\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Table, Button, Spin, Popconfirm, Form, Select, } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\nimport moment from 'moment';\r\n\r\nexport default function DeleteGifts() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allGifts = useSelector(state => state.giftReducer.allGifts);\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n    const [gifts, setGifts] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!allGifts)\r\n            dispatch(actions.getAllGifts())\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (allGifts)\r\n            setGifts(allGifts.filter(g => !g.used));\r\n    }, [allGifts])\r\n\r\n    \r\n    useEffect(() => {\r\n        // setSpining(false)\r\n        if (currentNotification === 'המתנה נמחקה בהצלחה!' && gifts) {\r\n           alert('מתנה נמחקה')\r\n        }\r\n    }, [currentNotification])\r\n\r\n\r\n    const confirm = async (gift) => {\r\n        dispatch(actions.deleteGift(gift));\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            dataIndex: '',\r\n            render: (gift) =>\r\n                <Popconfirm\r\n                    title=\"האם אתה בטוח שאתה רוצה למחוק?\"\r\n                    onConfirm={() => confirm(gift)}\r\n                    okText=\"כן\"\r\n                    cancelText=\"לא\"\r\n                    style={{ direction: 'ltr' }}\r\n                    icon={null}\r\n                >\r\n                    <Button >מחק!</Button>\r\n                </Popconfirm>,\r\n            className: 'rtlColumn',\r\n            align: 'left',\r\n        }, {\r\n            title: 'כמות',\r\n            dataIndex: 'amount',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        }, {\r\n            title: 'מחיר',\r\n            dataIndex: 'price',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        }, {\r\n            title: 'תמונה',\r\n            dataIndex: 'image',\r\n            render: (image) => <img src={image} width='100' />,\r\n            align: 'right',\r\n        }, {\r\n            title: 'שם מתנה',\r\n            dataIndex: 'name',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n        },\r\n\r\n\r\n    ];\r\n    return (\r\n        <div className='DeleteGifts'>\r\n            <h6>כאן מוצגים רק הכרטיסים שעוד לא השתמשו בהם</h6>\r\n            <Spin size='large' spinning={!gifts}>\r\n                <Table dataSource={gifts} columns={columns}\r\n                    rowKey={gift => gift._id}\r\n                    pagination={{ position: ['bottomLeft', 'none'] }}\r\n                    style={{ direction: 'ltr' }} />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport CreateGift from './CreateGift';\r\nimport UpdateGift from './UpdateGift';\r\nimport DeleteGifts from './DeleteGifts';\r\n\r\nexport default function GiftsManagment() {\r\n    \r\n    const [action, setAction] = useState(null);\r\n\r\n    return (\r\n        <div className='GiftsManagment'>\r\n            <h1>מה ברצונך לעשות?</h1>\r\n            <Button onClick={() => setAction('create')}>יצירה</Button>\r\n            <Button onClick={() => setAction('update')}>עריכה</Button>\r\n            <Button onClick={() => setAction('delete')}>מחיקה</Button>\r\n            {action === 'create' && <CreateGift />}\r\n            {action === 'update' && <UpdateGift/>}\r\n            {action === 'delete' && <DeleteGifts/>}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function CreateRecruiter() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const userCampaigns = useSelector(state => state.userReducer.user.campaigns);\r\n    const uid = useSelector(state => state.userReducer.user.uid);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const recruiterLink = useSelector(state => state.recruiterReducer.recruiterLink);\r\n\r\n    const linkRef = useRef(recruiterLink);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns)\r\n            dispatch(actions.getAllCampaigns());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n    }, [recruiterLink]);\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: CreateRecruiter.js ~ line 20 ~ onFinish ~ values\", values);\r\n        const campaignId = allCampaigns.find(c => c.campaignName === values.campaign)._id;\r\n        dispatch(actions.createRecruiter({ ...values, campaign: campaignId ,uid}));\r\n    };\r\n\r\n    return (\r\n        <div className='p-auto CreateRecruiter'>\r\n            <h1>יצירת מגייס</h1>\r\n            <Form\r\n                labelCol={{\r\n                    span: 4,\r\n                }}\r\n                wrapperCol={{\r\n                    span: 20,\r\n                }}\r\n                form={form}\r\n                // name=\"CreateRecruiter\"\r\n                onFinish={onFinish}\r\n            >\r\n                {/* campaign */}\r\n                <Form.Item\r\n                    name=\"campaign\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר קמפיין!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        options={admin ? (\r\n                            allCampaigns && allCampaigns.map(campaign => {\r\n                                return { value: campaign.campaignName, label: campaign.campaignName }\r\n                            })) :\r\n                            userCampaigns && userCampaigns.map(campaign => {\r\n                                return { value: campaign.campaignName, label: campaign.campaignName }\r\n                            })}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`} >\r\n                    </Select>\r\n                </Form.Item>\r\n                {/* sum */}\r\n                <Form.Item\r\n                    name=\"sum\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `הכנס סכום תרומה!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input type='number' placeholder={`הכנס כאן את סכום התרומה...`} />\r\n                </Form.Item>\r\n                {/* name */}\r\n                <Form.Item\r\n                    name=\"designName\"\r\n                    rules={[{ required: true, message: 'הכנס שם!' }]}\r\n\r\n                >\r\n                    <Input placeholder={`הכנס כאן את שם המגייס לתצוגה...`} />\r\n                </Form.Item>\r\n                {/* emil */}\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    rules={[{ required: true, message: 'הכנס מייל!' }]}\r\n                >\r\n                    <Input type='email' placeholder=\"מייל\" />\r\n                </Form.Item>\r\n                {/* submit */}\r\n                <Form.Item className='submitFormItem'>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        יצירת מגייס\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n            {\r\n                recruiterLink != '' ?\r\n                    <span>\r\n                        לינק לאזור האישי של המגייס החדש :<br />\r\n                        <a href={recruiterLink} className=\"recruiterLink\" >{recruiterLink}</a>\r\n                    </span>\r\n                    : \"\"\r\n            }\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n    Spin,\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function UpdateRecruiter() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n\r\n    const [form] = Form.useForm();\r\n    const [campaign, setCampaign] = useState(null);\r\n    const [spining, setSpining] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns)\r\n            dispatch(actions.getAllCampaigns());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setSpining(false)\r\n        if (currentNotification === 'המגייס התעדכן בהצלחה!' && campaign) {\r\n            form.resetFields();\r\n            setCampaign(null);\r\n        }\r\n    }, [currentNotification])\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"🚀 ~ file: UpdateRecruiter.js ~ line 20 ~ onFinish ~ values\", values);\r\n        setSpining(true);\r\n        dispatch(actions.updateRecruiter(values));\r\n    };\r\n\r\n    const chooseCampaign = (campaignId) => {\r\n        const campaignObj = allCampaigns.find(c => c._id === campaignId);\r\n        console.log(\"🚀 ~ file: UpdateRecruiter.js ~ line 35 ~ chooseCampaign ~ campaignObj\", campaignObj)\r\n        setCampaign(campaignObj);\r\n    }\r\n    const chooseRecruiter = (recruiterId) => {\r\n        const recruiterObj = campaign.recruiters.find(recruiter => recruiter._id === recruiterId);\r\n        console.log(\"🚀 ~ file: UpdateRecruiter.js ~ line 40 ~ chooseRecruiter ~ recruiterObj\", recruiterObj)\r\n        form.setFieldsValue(recruiterObj);\r\n    }\r\n\r\n    return (\r\n        <div className='p-auto UpdateRecruiter'>\r\n            <h1>עריכת מגייס</h1>\r\n            <Spin size='large' spinning={spining}>\r\n                <Form\r\n                    wrapperCol={{\r\n                        span: 24,\r\n                    }}\r\n                    form={form}\r\n                    onFinish={onFinish}\r\n                >\r\n                    {/* campaign */}\r\n                    <Form.Item\r\n                        name=\"campaign\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `אנא בחר קמפיין!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Select\r\n                            allowClear\r\n                            showSearch\r\n                            onChange={chooseCampaign}\r\n                            style={{ textAlign: 'right' }}\r\n                            dropdownStyle={{ textAlign: 'right' }}\r\n                            notFoundContent={<>לא נמצאו נתונים</>}\r\n                            placeholder={`בחר קמפיין...`} >\r\n                            {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                                <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                            ))) : (user.campaigns && user.campaigns.map(item => (\r\n                                <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                            )))}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    {/* recruiter */}\r\n                    <Form.Item\r\n                        name=\"recruiter\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `אנא בחר מגייס!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Select\r\n                            allowClear\r\n                            showSearch\r\n                            style={{ textAlign: 'right' }}\r\n                            dropdownStyle={{ textAlign: 'right' }}\r\n                            onChange={chooseRecruiter}\r\n                            notFoundContent={<>לא נמצאו מגייסים</>}\r\n                            placeholder={`בחר מגיס...`} >\r\n                            {campaign && campaign.recruiters.length && campaign.recruiters.map(recruiter => {\r\n                                return (\r\n                                    !recruiter.sumRaised && <Select.Option key={recruiter._id}>{recruiter.designName}</Select.Option>)\r\n                            })}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    {/* sum */}\r\n                    <Form.Item\r\n                        name=\"sum\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: `הכנס סכום תרומה!`,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input type='number' placeholder={`הכנס כאן את סכום התרומה...`} />\r\n                    </Form.Item>\r\n                    {/* name */}\r\n                    <Form.Item\r\n                        name=\"designName\"\r\n                        rules={[{ required: true, message: 'הכנס שם!' }]}\r\n\r\n                    >\r\n                        <Input placeholder={`הכנס כאן את שם המגייס לתצוגה...`} />\r\n                    </Form.Item>\r\n                    {/* emil */}\r\n                    {/* <Form.Item\r\n                    name=\"email\"\r\n                    rules={[{ required: true, message: 'הכנס מייל!' }]}\r\n                >\r\n                    <Input type='email' placeholder=\"מייל\" />\r\n                </Form.Item> */}\r\n                    {/* submit */}\r\n                    <Form.Item className='submitFormItem'>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            עריכת מגייס\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        </div >\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Table, Button, Spin, Popconfirm, Form, Select, Tooltip, Avatar, } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../redux/actions';\r\nimport { firebase } from '../../services/firebase.service';\r\nimport moment from 'moment';\r\n\r\nexport default function DeleteRecruiters() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const [recruiters, setRecruiters] = useState();\r\n    const [campaign, setCampaign] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!allCampaigns & admin)\r\n            dispatch(actions.getAllCampaigns())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (campaign) {\r\n            const campaignObj = allCampaigns.find(c => c._id === campaign._id);\r\n            console.log(\"🚀 ~ file: DeleteRecruiters.js ~ line 29 ~ useEffect ~ campaignObj\", campaignObj)\r\n            setCampaign(campaignObj);\r\n            setRecruiters(campaignObj.recruiters.filter(r => !r.sumRaised));\r\n        }\r\n    }, [allCampaigns])\r\n\r\n    const choose = (campaignId) => {\r\n        const campaignObj = allCampaigns.find(c => c._id === campaignId);\r\n        console.log(\"🚀 ~ file: DeleteRecruiters.js ~ line 31 ~ choose ~ campaignObj\", campaignObj)\r\n        setCampaign(campaignObj);\r\n        if (campaignObj)\r\n            setRecruiters(campaignObj.recruiters.filter(r => !r.sumRaised));\r\n    }\r\n    const confirm = async (recruiterId) => {\r\n        console.log(\"🚀 ~ file: DeleteRecruiters.js ~ line 45 ~ confirm ~ recruiterId\", recruiterId)\r\n        // delete recruiter from server\r\n        dispatch(actions.deleteRecruiter(recruiterId));\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            dataIndex: '',\r\n            render: (recruiter) =>\r\n                <Popconfirm\r\n                    title=\"האם אתה בטוח שאתה רוצה למחוק?\"\r\n                    onConfirm={() => confirm(recruiter._id)}\r\n                    okText=\"כן\"\r\n                    cancelText=\"לא\"\r\n                    style={{ direction: 'ltr' }}\r\n                    icon={null}\r\n                >\r\n                    <Button >מחק!</Button>\r\n                </Popconfirm>,\r\n            className: 'rtlColumn',\r\n            align: 'left',\r\n        }, {\r\n            title: 'סכום',\r\n            dataIndex: 'sum',\r\n            align: 'right',\r\n        }, {\r\n            title: 'שם מגייס',\r\n            dataIndex: 'designName',\r\n            align: 'right',\r\n            className: 'rtlColumn'\r\n            // }, {\r\n            //     title: 'משתמש',\r\n            //     dataIndex: 'user',\r\n            //     render: (user) =>\r\n            //         <Tooltip className='pointer' title={user.name}>\r\n            //             <Avatar>{user.name[0]}</Avatar>\r\n            //         </Tooltip>,\r\n            //     align: 'center',\r\n        },\r\n    ];\r\n    return (\r\n        <div className='DeleteRecruiters'>\r\n            <h6>כאן מוצגים רק המגייסים שעוד לא תרמו להם</h6>\r\n            <Form\r\n                wrapperCol={{\r\n                    span: 20,\r\n                }}\r\n                form={form}>\r\n                {/* campaign */}\r\n                <Form.Item\r\n                    name=\"campaign\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `אנא בחר קמפיין!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Select\r\n                        allowClear\r\n                        showSearch\r\n                        onChange={choose}\r\n                        style={{ textAlign: 'right' }}\r\n                        dropdownStyle={{ textAlign: 'right' }}\r\n                        notFoundContent={<>לא נמצאו נתונים</>}\r\n                        placeholder={`בחר קמפיין...`} >\r\n                        {admin ? (allCampaigns && allCampaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        ))) : (user.campaigns && user.campaigns.map(item => (\r\n                            <Select.Option key={item._id}>{item.campaignName}</Select.Option>\r\n                        )))}\r\n                    </Select>\r\n                </Form.Item>\r\n            </Form>\r\n            <Spin size='large' spinning={!recruiters}>\r\n                <Table dataSource={recruiters} columns={columns}\r\n                    rowKey={recruiter => recruiter._id}\r\n                    pagination={{ position: ['bottomLeft', 'none'] }}\r\n                    style={{ direction: 'ltr' }} />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport CreateRecruiter from './CreateRecruiter';\r\nimport UpdateRecruiter from './UpdateRecruiter';\r\nimport DeleteRecruiters from './DeleteRecruiters';\r\n\r\nexport default function RecruitersManagment() {\r\n    \r\n    const [action, setAction] = useState(null);\r\n\r\n    return (\r\n        <div className='RecruitersManagment'>\r\n            <h1>מה ברצונך לעשות?</h1>\r\n            <Button onClick={() => setAction('create')}>יצירה</Button>\r\n            <Button onClick={() => setAction('update')}>עריכה</Button>\r\n            <Button onClick={() => setAction('delete')}>מחיקה</Button>\r\n            {action === 'create' && <CreateRecruiter />}\r\n            {action === 'update' && <UpdateRecruiter/>}\r\n            {action === 'delete' && <DeleteRecruiters/>}\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Applies from './Applies';\r\nimport CampaignsManagment from './CampaignsManagment';\r\nimport CardsManagment from './CardsManagment';\r\nimport GiftsManagment from './GiftsManagment';\r\nimport RecruitersManagment from './RecruitersManagment';\r\nimport { actions } from '../../redux/actions';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n\r\nexport default function BaseManagement() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const allCampaigns = useSelector(state => state.campaignReducer.allCampaigns);\r\n    \r\n    useEffect(() => {\r\n        if (!allCampaigns && admin)\r\n            dispatch(actions.getAllCampaigns())\r\n    }, [])\r\n\r\n    return (\r\n        <div className='BaseManagement'>\r\n            <Tabs defaultActiveKey=\"1\" tabPosition='left'>\r\n                <TabPane tab=\"קמפיינים\" key=\"1\">\r\n                    <CampaignsManagment />\r\n                </TabPane>\r\n                <TabPane tab=\"כרטיסים\" key=\"2\">\r\n                    <CardsManagment />\r\n                </TabPane>\r\n                <TabPane tab=\"מגייסים\" key=\"3\">\r\n                    <RecruitersManagment />\r\n                </TabPane>\r\n                {admin &&\r\n                    <>\r\n                        <TabPane tab=\"מתנות\" key=\"4\">\r\n                            <GiftsManagment />\r\n                        </TabPane>\r\n                        <TabPane tab=\"בקשות\" key=\"5\">\r\n                            <Applies />\r\n                        </TabPane>\r\n                    </>}\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport { actions } from '../../redux/actions';\r\n\r\nexport default function RecruiterArea() {\r\n\r\n    const dispatch = useDispatch();\r\n    const recruiterDonations = useSelector(state => state.recruiterReducer.recruiterDonations);\r\n    const currentRecruiter = useSelector(state => state.recruiterReducer.currentRecruiter);\r\n    let recruiterId = useParams();\r\n\r\n    useEffect(() => {\r\n        dispatch(actions.getRecruiterById(recruiterId));\r\n        dispatch(actions.getDonationsByRecruiterId(recruiterId));\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     recruiterDonations = useSelector(state => state.recruiterReducer.recruiterDonations);\r\n    // }, [recruiterDonations]);\r\n\r\n    return (\r\n        <div className=\"RecruiterArea\">{\r\n            currentRecruiter ? <div>\r\n                <h4>{`שלום לך ${currentRecruiter.designName !== undefined? currentRecruiter.designName : (currentRecruiter.user.name || currentRecruiter.user.email)}`}</h4>\r\n                <h4>{`התרומות שנתרמו על ידך לקמפיין ${currentRecruiter.campaign.campaignName}`}</h4>\r\n                {currentRecruiter ? <h6>{`עד כה הושג ${currentRecruiter.sumRaised === undefined ? 0 : currentRecruiter.sumRaised} מתוך ${currentRecruiter.sum} ש\"ח`}</h6> : \"\"}\r\n                <div className=\"row\">\r\n                    {recruiterDonations ? recruiterDonations.map((donation, i) => (\r\n                        // <div>{JSON.stringify(donation)}\r\n                        //     <br /></div>\r\n                        <div className={`card col-4 m-3 ${i % 2 === 0 ? \"cardModTwo\" : \"\"}`} key={donation._id}>\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">{donation.user.name ? donation.user.name : 'לא ידוע'}</h5>\r\n                                <p>{`תרם ${donation.card.sum} ש\"ח עבור ${donation.card.text}`}</p>\r\n                                <p>{`בתאריך ${donation.date}`}</p>\r\n                                <p>{`וקבל ${donation.card.gift && donation.card.gift.name}`}</p>\r\n                            </div>\r\n                        </div>\r\n                    )) : \"No Donations\"}\r\n                </div>\r\n            </div>\r\n                :\r\n                \"No Recruiter\"\r\n        }\r\n        </div>\r\n    );\r\n}","import { Route, Switch } from 'react-router-dom';\r\nimport BaseCampaigns from '../campaigns/BaseCampaigns';\r\nimport BaseHome from '../home/BaseHome';\r\nimport NotFound from './NotFound';\r\nimport Campaign from '../campaigns/Campaign';\r\nimport GiftDetails from '../campaigns/GiftDetails';\r\nimport About from '../home/About';\r\nimport Personal from '../home/Personal';\r\nimport CampaignDetails from '../management/CampaignDetails';\r\nimport BaseManagement from '../management/BaseManagement';\r\nimport RecruiterArea from '../general/RecruiterArea';\r\nimport { useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nexport default function Routes() {\r\n\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    return (\r\n        <div className='Routes'>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={BaseHome} />\r\n                <Route path=\"/home\" component={BaseHome} />\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/gift-details/:currentGift\" component={GiftDetails} />\r\n                <Route path=\"/new-campaign\" component={CampaignDetails} />\r\n                <Route path=\"/all-campaigns\" component={BaseCampaigns} />\r\n                <Route path=\"/personal\" component={Personal} />\r\n                <Route path=\"/current-campaign/:currentCampaign\" component={Campaign} />\r\n                <Route path=\"/recruiters/:recruiterId\" component={RecruiterArea} />\r\n                {(admin || (user && user.allowed)) && <Route path=\"/management\" component={BaseManagement} />}\r\n                <Route path=\"*\" component={NotFound} />\r\n            </Switch >\r\n        </div >\r\n    )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Popover, Tooltip } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport UserProfile from '../campaigns/UserProfile';\r\nimport Login from '../login/Login';\r\n\r\nexport default function Nav() {\r\n\r\n    const user = useSelector(state => state.userReducer.user);\r\n    const admin = useSelector(state => state.userReducer.admin);\r\n\r\n    const [current, setCurrent] = useState(window.location.pathname.split('/')[1]);\r\n    const [showPopover, setShowPopover] = useState(false);\r\n\r\n    const handleVisibleChange = () => {\r\n        setShowPopover(!showPopover);\r\n    }\r\n    return (\r\n        <div className='Nav'>\r\n            <div className=\"row d-dlex align-items-center\">\r\n                <div className=\"navbar-brand col-1\">גיפטמאצ'</div>\r\n                {/* <nav className=\"nav d-dlex justify-content-end col-10\"> */}\r\n                <nav className=\"linksMenu nav d-dlex justify-content-end col-10\">\r\n                    <Link className={`nav-link ${(current === 'home' || current === '') ? 'navLinkActive' : ''}`} onClick={() => setCurrent('home')} to='/home'>דף הבית</Link>\r\n                    <Link className={`nav-link ${current === 'about' ? 'navLinkActive' : ''}`} onClick={() => setCurrent('about')} to='/about'>אודות</Link>\r\n                    <Link className={`nav-link ${current === 'all-campaigns' ? 'navLinkActive' : ''}`} onClick={() => setCurrent('all-campaigns')} to='/all-campaigns'>קמפיינים</Link>\r\n                    {(admin || (user && user.allowed)) && <Link className={`nav-link ${current === 'management' ? 'navLinkActive' : ''}`} onClick={() => setCurrent('management')} to='/management'>ניהול</Link>}\r\n                    <Link className={`nav-link ${current === 'personal' ? 'navLinkActive' : ''}`} onClick={() => setCurrent('personal')} to='/personal'>אזור אישי</Link>\r\n                </nav>\r\n                <Popover content={user ? <UserProfile close={handleVisibleChange} /> : <Login />} title=\"!פרופיל שלי\" trigger=\"click\" placement='topRight' visible={showPopover}\r\n                    onVisibleChange={handleVisibleChange}>\r\n                    {(user ?\r\n                        (user.photoURL ?\r\n                            <Tooltip className='pointer' title={user.name || user.email}>\r\n                                <Avatar src={user.photoURL} />\r\n                            </Tooltip> :\r\n                            (user.name ?\r\n                                <Tooltip className='pointer' title={user.name}>\r\n                                    <Avatar>{user.name[0]}</Avatar>\r\n                                </Tooltip> :\r\n                                <Tooltip className='pointer' title={user.email}>\r\n                                    <Avatar>{user.email[0]}</Avatar>\r\n                                </Tooltip>)) :\r\n                        <Tooltip className='pointer' title='לחץ כדי להתחבר.'>\r\n                            <Avatar icon={<UserOutlined />} />\r\n                        </Tooltip>)}\r\n                </Popover>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { notification } from 'antd';\r\nimport \"antd/dist/antd.css\";\r\n\r\nexport default function Notification(props) {\r\n\r\n    const currentNotification = useSelector(state => state.generalReducer.currentNotification);\r\n\r\n    const baseNotification = currentNotification ? {\r\n        key: 'notification...',\r\n        message: currentNotification,\r\n        placement: 'bottomLeft',\r\n        duration: 3,\r\n    } : '';\r\n\r\n    useEffect(() => {\r\n        if (currentNotification)\r\n            notification.open(baseNotification);\r\n    }, [currentNotification])\r\n\r\n    return (\r\n        <></>\r\n    );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { actions } from '../../redux/actions';\r\nimport Routes from './Routes';\r\nimport Nav from './Nav';\r\nimport Notification from './Notification';\r\n\r\nimport '../../style/custom-antd.css'\r\nimport '../../styles/general.css';\r\nimport '../../styles/campaign.css';\r\nimport '../../styles/allCampaigns.css';\r\nimport '../../styles/liveCampaigns.css';\r\nimport '../../styles/nav.css';\r\nimport '../../styles/about.css';\r\nimport '../../styles/stamp.css';\r\nimport '../../styles/createRecruiter.css';\r\nimport '../../styles/recruiterArea.css';\r\nimport '../../styles/baseHome.css';\r\nimport '../../styles/base.css';\r\n\r\nexport default function Base() {\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        const cookie = document.cookie.split('giftMatchUserUid=');\r\n        if (cookie.length === 2 && cookie[1]) {\r\n            dispatch(actions.getUserByUid(cookie[1].split(';')[0]))\r\n        }\r\n    }, [])\r\n    return (\r\n        <Router>\r\n            <div className='Base container'>\r\n                <Nav />\r\n                <Routes />\r\n                <Notification />\r\n            </div>\r\n        </Router>\r\n    )\r\n}","import { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport Base from './components/general/Base';\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Provider store={store}>\r\n        <Base />\r\n      </Provider >\r\n    </div >\r\n  );\r\n}\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  // </React.StrictMode>,\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}